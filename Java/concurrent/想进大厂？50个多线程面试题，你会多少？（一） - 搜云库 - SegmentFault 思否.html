<!DOCTYPE html>
<!-- saved from url=(0043)https://segmentfault.com/a/1190000013813740 -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="renderer" content="webkit"><meta property="qc:admins" content="15317273575564615446375"><meta property="og:image" content="https://static.segmentfault.com/v-5ab0701d/global/img/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ"><meta name="apple-itunes-app" content="app-id=958101793, app-argument="><title>想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否</title><meta name="description" content="最近看到网上流传着，各种面试经验及面试题，往往都是一大堆技术题目贴上去，而没有答案。 不管你是新程序员还是老手，你一定在面试中遇到过有关线程的问题。Java语言一个重要的特点就是内置了对并发的支持，让Ja..."><meta name="keywords" content="java"><link rel="search" type="application/opensearchdescription+xml" href="https://segmentfault.com/opensearch.xml" title="SegmentFault"><link rel="shortcut icon" href="https://static.segmentfault.com/v-5ab0701d/global/img/favicon.ico"><link rel="apple-touch-icon" href="https://static.segmentfault.com/v-5ab0701d/global/img/touch-icon.png"><meta name="msapplication-TileColor" content="#009a61"><meta name="msapplication-square150x150logo" content="https://static.segmentfault.com/v-5ab0701d/global/img/touch-icon.png"><meta name="userId" value="1030000007471032" id="SFUserId"><meta name="userRank" value="4" id="SFUserRank"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="https://segmentfault.com/feeds/questions"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="https://segmentfault.com/feeds/blogs"><link rel="stylesheet" href="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/global.css"><link rel="stylesheet" href="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/blog.css"><link rel="stylesheet" href="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/responsive.css"><script src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/ca-pub-6330872677300335.js.下载"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://static.segmentfault.com/v-5ab0701d/3rd/socket/socket.io.js" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/socket.io.js.下载"></script><script type="text/javascript" async="" id="ac_js86_$7813282128" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/r.js.下载"></script><link rel="preload" href="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/integrator.js.下载" as="script"><script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/integrator.js.下载"></script><link rel="preload" href="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/integrator.js(1).下载" as="script"><script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/integrator.js(1).下载"></script></head><body data-mod="blog" class="blog-post "><!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]--><img id="icon4weChat" style="height: 0;width: 0;" data-src="https://static.segmentfault.com/v-5ab0701d/global/img/touch-icon-512.png"><div class="global-nav sf-header sf-header--index"><nav class="container nav"><div class="visible-xs header-response"><a href="https://segmentfault.com/search" style="display:block"><i class="fa fa-search" aria-hidden="true"></i></a><div class="sf-header__logo sf-header__logo--response"><h1><a href="https://segmentfault.com/" style="height:24px; background-size: auto 24px;"></a></h1></div><div class="opts"><li class="opts__item user dropdown hoverDropdown"><a class="dropdownBtn user-avatar" data-toggle="dropdown" style="background-image: url(&#39;https://sfault-avatar.b0.upaiyun.com/209/616/2096163548-59e40a4a080c9_big64&#39;);" href="https://segmentfault.com/u/luwangmeilun"></a><div class="dropdown-avatar-menu hidden"><div class="menu-score"><span class="score pull-left ml20 mr10">4 声望</span><div class=""><span class="badge badge--o badge--sf badge--gold"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">0</span><span class="badge badge--o badge--sf badge--silver"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">0</span><span class="badge badge--o badge--sf badge--bronze"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">1</span></div></div><hr><div class="container-fluid"><div class="menu-list row"><div class="col-md-6 col-xs-6 pl0 pr0"><ul><li class="message-response visible-xs"><a href="https://segmentfault.com/user/notifications" id="messageCount-response">通知提醒</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/notes">我的笔记</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/bookmarks">我的收藏</a></li><li><a href="https://segmentfault.com/user/invited">受邀回答</a></li><li><a href="https://segmentfault.com/experts">付费问答</a></li><li><a href="https://segmentfault.com/review">众审中心</a></li></ul></div><div class="col-md-6 col-xs-6 pl0 pr0"><ul><li class="letter-response  visible-xs"><a href="https://segmentfault.com/user/messages" id="letterCount-response">私信消息</a></li><li><a href="https://segmentfault.com/u/luwangmeilun">我的主页</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/about">我的档案</a></li><li><a href="https://segmentfault.com/user/finance">我的资产</a></li><li><a href="https://segmentfault.com/user/settings">个人设置</a></li><li><a href="https://segmentfault.com/api/user/logout?_=a94345b99f0867c037506721624e17af">退出</a></li></ul></div></div></div><hr><div class="menu-footer"><a class="js__action--complain" href="javascript:void(0);"><span>用户申诉</span></a>
         · <a href="https://segmentfault.com/g/1570000009280187"><span>建议反馈</span></a>
         · <a href="https://segmentfault.com/user/invitation"><span>邀请朋友</span></a></div></div><script src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/hm.js.下载"></script><script async="" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/analytics.js.下载"></script><script type="text/template" id="js__action--complain-tpl"><form class="complain__form" method="post" action="/api/appeals/add"><div class="form-group"><label>理由</label><textarea name="description" class="form-control"rows="3"></textarea></div></form></script></li><li class="opts__item dropdown hoverDropdown write-btns mt0"><a class="dropdownBtn" data-toggle="dropdown" href="https://segmentfault.com/ask"><i class="fa fa-plus" aria-hidden="true" style="margin-top: 7px"></i></a><ul class="dropdown-menu dropdown-menu-right "><li><a href="https://segmentfault.com/ask">提问题</a></li><li><a href="https://segmentfault.com/submit">发头条</a></li><li><a href="https://segmentfault.com/write">写文章</a></li><li><a href="https://segmentfault.com/record">记笔记</a></li><li class="divider"></li><li><a href="https://segmentfault.com/user/draft">草稿箱</a></li></ul></li></div><div class="bottom-nav"><div class="opts"><a class="opts-group " href="https://segmentfault.com/"><i class="fa fa-home" aria-hidden="true"></i><span>首页</span></a><a class="opts-group " href="https://segmentfault.com/questions"><i class="fa fa-comments" aria-hidden="true"></i><span>问答</span></a><a class="opts-group active" href="https://segmentfault.com/blogs"><i class="fa fa-pencil-square" aria-hidden="true"></i><span>专栏</span></a><a class="opts-group  menu__item--new-show" href="https://segmentfault.com/lives/newest"><i class="fa fa-play-circle" aria-hidden="true"></i><span>讲堂</span></a><div class="opts-group"><div class="btn-group dropup"><i class="fa fa-bars dropdown hoverDropdown" data-toggle="dropdown" aria-hidden="true"><span>更多</span></i><ul class="dropdown-menu"><li><a href="https://segmentfault.com/jobs">职位</a></li><li><a href="https://segmentfault.com/events">活动</a></li><li><a href="https://segmentfault.com/tags">标签</a></li><li><a href="https://segmentfault.com/badges">徽章</a></li></ul></div></div></div></div></div><script>
mobileScroll(
    function(direction) { 
        if (direction === 'down') {
            document.querySelector('.bottom-nav').classList.add('hidden')
        } else {
            document.querySelector('.bottom-nav').classList.remove('hidden')
        }
    }
);    
function mobileScroll( fn ) {
    var beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
        fn = fn || function() {};
    window.addEventListener("scroll", function() {
        var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
            delta = afterScrollTop - beforeScrollTop;
        if( delta === 0 ) return false;
        fn( delta > 0 ? "down" : "up" );
        beforeScrollTop = afterScrollTop;
    }, false);
}
</script><div class="row hidden-xs"><div class="col-sm-8 col-md-9 col-lg-9"><div class="sf-header__logo"><h1><a href="https://segmentfault.com/">SegmentFault</a></h1></div><div><ul class="menu list-inline pull-left hidden-xs"><li class="menu__item"><a href="https://segmentfault.com/" class="">首页</a></li><li class="menu__item"><a href="https://segmentfault.com/questions" class="">问答</a></li><li class="menu__item"><a href="https://segmentfault.com/blogs" class="active-nav">专栏</a></li><li class="menu__item"><a href="https://segmentfault.com/lives/newest" class="menu__item--new-show">讲堂</a></li><li class="menu__item"><a href="https://segmentfault.com/tags" class="">标签</a></li><li class="menu__item menu__item--more dropdown"><a href="https://segmentfault.com/a/1190000013813740##" class="dropdown-toggle dropdownBtn" data-toggle="dropdown">
                                        发现<i class="fa fa-caret-down" style="font-size: 14px;margin-left: 5px;" aria-hidden="true"></i></a><div class="dropdown-block hidden"><ul class="dropdown-content-menu"><li><a href="https://segmentfault.com/events">活动</a></li><li><a href="https://segmentfault.com/groups">技术圈<span class="notice notice-menu">hi</span></a></li><li><a href="https://segmentfault.com/jobs">找工作</a></li><li><a href="https://segmentfault.com/users">排行榜</a></li><li><a href="https://segmentfault.com/badges">徽章</a></li><li><a href="https://segmentfault.com/notes">笔记</a></li><li><a href="https://docs.segmentfault.com/" target="_blank">开发手册<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li><li><a href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li></ul></div></li><li class="menu__item visible-sm-inline-block"><a href="https://segmentfault.com/search"><span class="glyphicon glyphicon-search" style="vertical-align: middle;"></span></a></li></ul><form action="https://segmentfault.com/search" class="header-search  hidden-sm hidden-xs pull-right"><button class="btn btn-link"><span class="sr-only">搜索</span><span class="glyphicon glyphicon-search"></span></button><input id="searchBox" name="q" type="text" placeholder="搜索问题或关键字" class="form-control" value=""></form></div></div><div class="col-sm-4 col-md-3 col-lg-3 text-right"><ul class="opts list-inline hidden-xs"><li class="opts__item dropdown hoverDropdown write-btns visible-lg-inline-block"><div class="btn-group"><button type="button" class="btn btn-primary " id="shouldGoTo" data-type="blog">
                                                                                        写文章
                                                                                    </button><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span><span class="sr-only">显示下拉菜单</span></button><ul class="dropdown-menu"><li><a href="https://segmentfault.com/ask">提问题</a></li><li><a href="https://segmentfault.com/submit">发头条</a></li><li><a href="https://segmentfault.com/write">写文章</a></li><li><a href="https://segmentfault.com/record">记笔记</a></li><li role="separator" class="divider"></li><li><a href="https://segmentfault.com/user/draft">草稿箱</a></li></ul></div></li><li class="opts__item dropdown hoverDropdown write-btns visible-md-inline-block"><a class="dropdownBtn" data-toggle="dropdown" href="https://segmentfault.com/ask"><i class="fa fa-plus" aria-hidden="true"></i></a><ul class="dropdown-menu dropdown-menu-right "><li><a href="https://segmentfault.com/ask">提问题</a></li><li><a href="https://segmentfault.com/submit">发头条</a></li><li><a href="https://segmentfault.com/write">写文章</a></li><li><a href="https://segmentfault.com/record">记笔记</a></li><li class="divider"></li><li><a href="https://segmentfault.com/user/draft">草稿箱</a></li></ul></li><li class="opts__item message has-unread hidden-sm ml10"><a id="dLabel" class="dropdown-toggle-message" href="https://segmentfault.com/user/notifications"><span class="sr-only">消息</span><span id="messageCount" class="fa fa-bell-o"></span></a><div class="opts__item--message hide"><div class="panel panel-default"><div class="panel-heading"><ul class="nav nav-tabs nav-tabs-message"><li role="presentation" class="active"><a href="https://segmentfault.com/a/1190000013813740#messageGeneral" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true"><i class="fa fa-bullhorn"></i><span class="notice-dot hide notice-dot-general"></span></a></li><li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#messageComment" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true"><i class="fa fa-commenting-o" aria-hidden="true"></i><span class="notice-dot hide notice-dot-comment"></span></a></li><li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#messageRanked" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true"><i class="fa fa-thumbs-o-up"></i><span class="notice-dot hide notice-dot-ranked"></span></a></li><li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#messageFollowed" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true"><i class="fa fa-user-plus"></i><span class="notice-dot hide notice-dot-followed"></span></a></li></ul></div><div class="panel-body"><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="messageGeneral"></div><div role="tabpanel" class="tab-pane" id="messageComment"></div><div role="tabpanel" class="tab-pane" id="messageRanked"></div><div role="tabpanel" class="tab-pane" id="messageFollowed"></div><script type="text/template" id="messageGeneralTpl"><ul class="mCustomScrollbar-message" data-proto="general"  data-mcs-theme="minimal-dark"><% _.each(general,function(d){ %><li class="<%= d.viewed >0 ?'':'bg-warning'%>"><%= d.sentence %>&nbsp;<a
                                    href="<%= d.url %>"><%= d.excerpt %></a>&nbsp<%= d.appendSentence %></li><% }) %></ul></script><script type="text/template" id="item--general"><% _.each(general,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><%= d.sentence %>&nbsp;<a
                                    href="<%= d.url %>"><%= d.excerpt %></a></li><% }) %></script><script type="text/template" id="messageCommentTpl"><ul class="mCustomScrollbar-message" data-proto="comment"  data-mcs-theme="minimal-dark"><% _.each(comment,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><%= d.sentence %>&nbsp;<a
                                    href="<%= d.url %>"><%= d.excerpt %></a>&nbsp<%= d.appendSentence %></li><% }) %></ul></script><script type="text/template" id="item--comment"><% _.each(comment,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><%= d.sentence %>&nbsp;<a
                                    href="<%= d.url %>"><%= d.excerpt %></a></li><% }) %></script><script type="text/template" id="messageRankedTpl"><ul class="mCustomScrollbar-message" data-proto="ranked"  data-mcs-theme="minimal-dark"><% _.each(ranked,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><span class="badge
                                                    <% if(d.voted && d.voted.rank!=0){ %><%= d.voted.rank > 0 ? 'green':'red' %><% } else { %> transparent <% } %>"><% if(d.voted){ %><%= d.voted.rank > 0 ? '+'+d.voted.rank:d.voted.rank %><% } %></span><div class="rank-desc"><%= d.sentence %>&nbsp;<a href="<%= d.url %>"><%=
                                    d.excerpt %></a></div></li><% }) %></ul></script><script type="text/template" id="item--ranked"><% _.each(ranked,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><span class="badge
                                                    <% if(d.voted && d.voted.rank!=0){ %><%= d.voted.rank > 0 ? 'green':'red' %><% } else { %> transparent <% } %>"><% if(d.voted){ %><%= d.voted.rank > 0 ? '+'+d.voted.rank:d.voted.rank %><% } %></span><div class="rank-desc"><%= d.sentence %>&nbsp;<a href="<%= d.url %>"><%=
                                    d.excerpt %></a></div></li><% }) %></script><script type="text/template" id="messageFollowedTpl"><ul class="mCustomScrollbar-message" data-proto="followed"  data-mcs-theme="minimal-dark"><p class="follow-tips">他们最近关注了你</p><% _.each(followed,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><img class="follower__img avatar-32"
                                 src="<%= d.triggerUser[0] ? d.triggerUser[0].avatarUrl : '' %>"><div class="follower__info"><% if(d.triggerUser[0] ? d.triggerUser[0].isFollowed : ''){ %><button data-id="<%= d.triggerUser[0] ? d.triggerUser[0].id : '' %>"
                                        class="btn btn-default btn-xs message__btn--unfollow pull-right active">
                                    已关注
                                </button><% }else{ %><button data-id="<%= d.triggerUser[0] ? d.triggerUser[0].id : '' %>"
                                        class="btn btn-default btn-xs message__btn--follow pull-right">
                                    关注
                                </button><% } %><a href="<%= d.triggerUser[0] ? d.triggerUser[0].url : '' %>"><%=d.triggerUser[0] ? d.triggerUser[0].name : ''%></a><br><span><%= d.triggerUser[0] ? d.triggerUser[0].rank : '' %> 声望</span></div></li><% }) %></ul></script><script type="text/template" id="item--followed"><% _.each(followed,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>"><img class="follower__img avatar-32"
                                 src="<%= d.triggerUser[0] ? d.triggerUser[0].avatarUrl : '' %>"><div class="follower__info"><% if(d.triggerUser[0] && d.triggerUser[0].isFollowed){ %><button data-id="<%= d.triggerUser[0] ? d.triggerUser[0].id : '' %>"
                                        class="btn btn-default btn-xs message__btn--unfollow pull-right active">
                                    已关注
                                </button><% }else{ %><button data-id="<%= d.triggerUser[0] ? d.triggerUser[0].id : '' %>"
                                        class="btn btn-default btn-xs message__btn--follow pull-right">
                                    关注
                                </button><% } %><a href="<%= d.triggerUser[0] ? d.triggerUser[0].url : '' %>"><%= d.triggerUser[0].name
                                    %></a><br><span><%= d.triggerUser[0].rank %> 声望</span></div></li><% }) %></script></div><p class="opts__item--message-loading follow-tips">loading</p></div><div class="panel-footer"><div class="row"><div class="col-sm-6"><a href="javascript:;" class="message-ingore-all hide"><span class="glyphicon glyphicon-ok-sign"></span>
                        全部标记为已读</a></div><div class="col-sm-6"><a class="opts__item--message-view-all" href="https://segmentfault.com/user/notifications">查看全部
                        »</a></div></div></div></div></div></li><li class="opts__item letter has-unread hidden-sm"><a id="dLabel" class="dropdown-toggle-letter" href="https://segmentfault.com/user/messages"><span class="sr-only">私信</span><span id="letterCount" class="fa fa-envelope-o"></span></a><div class="opts__item--letter hide"><div class="panel panel-default"><div class="panel-heading"><ul class="nav nav-tabs nav-tabs-letter"><li role="presentation" class="active"><span class="opts__item--letter-heading">最近的私信</span></li></ul></div><div class="panel-body"><div class="tab-content"><div id="messageInbox"></div><script type="text/template" id="messageInboxTpl"><ul class="mCustomScrollbar-message" data-proto="inbox" data-mcs-theme="minimal-dark"><% _.each(inboxes,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>" data-click="<%= d.url %>"><img class="follower__img avatar-32"
                                     src="<%= d.targetUser.avatarUrl %>"><div class="follower__info"><a href="<%= d.url %>"><%= d.targetUser.name
                                        %></a><br><% if (d.lastMessage.content){ %><span class="ellipsis inline-block" style="width: 245px;"><%= d.lastMessage.content.content %></span><% } %></div></li><% }) %><% if(inboxes.length ==0){ %><p class="text-center">没有人给你发私信</p><% } %></ul></script><script type="text/template" id="item--inboxes"><% _.each(inboxes,function(d){ %><li class="<%= d.viewed>0 ?'':'bg-warning'%>" data-click="<%= d.url %>"><img class="follower__img avatar-32"
                                     src="<%= d.targetUser.avatarUrl %>"><div class="follower__info"><a href="<%= d.targetUser.url %>"><%= d.targetUser.name
                                        %></a><br><span class="ellipsis inline-block" style="width: 245px;"><%= d.content %></span></div></li><% }) %></script></div><p class="opts__item--letter-loading follow-tips">loading</p></div><div class="panel-footer"><div class="row"><div class="col-sm-6"><a href="javascript:;" class="message-ingore-all hide"><span class="glyphicon glyphicon-ok-sign"></span>
                        全部标记为已读</a></div><div class="col-sm-6"><a class="opts__item--message-view-all" href="https://segmentfault.com/user/messages">查看全部
                        »</a></div></div></div></div></div></li><li class="opts__item user dropdown hoverDropdown ml0"><a class="avatar-* dropdownBtn user-avatar" data-toggle="dropdown" style="background-image: url(&#39;https://sfault-avatar.b0.upaiyun.com/209/616/2096163548-59e40a4a080c9_big64&#39;)" href="https://segmentfault.com/u/luwangmeilun" src="https://sfault-avatar.b0.upaiyun.com/209/616/2096163548-59e40a4a080c9_big64"></a><div class="dropdown-avatar-menu hidden"><div class="menu-score"><span class="score pull-left ml20 mr10">4 声望</span><div class=""><span class="badge badge--o badge--sf badge--gold"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">0</span><span class="badge badge--o badge--sf badge--silver"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">0</span><span class="badge badge--o badge--sf badge--bronze"><i class="badge__icon"></i></span><span class="profile__sidebar--award-badge-count">1</span></div></div><hr><div class="container-fluid"><div class="menu-list row"><div class="col-md-6 col-xs-6 pl0 pr0"><ul><li class="message-response visible-xs"><a href="https://segmentfault.com/user/notifications" id="messageCount-response">通知提醒</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/notes">我的笔记</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/bookmarks">我的收藏</a></li><li><a href="https://segmentfault.com/user/invited">受邀回答</a></li><li><a href="https://segmentfault.com/experts">付费问答</a></li><li><a href="https://segmentfault.com/review">众审中心</a></li></ul></div><div class="col-md-6 col-xs-6 pl0 pr0"><ul><li class="letter-response  visible-xs"><a href="https://segmentfault.com/user/messages" id="letterCount-response">私信消息</a></li><li><a href="https://segmentfault.com/u/luwangmeilun">我的主页</a></li><li><a href="https://segmentfault.com/u/luwangmeilun/about">我的档案</a></li><li><a href="https://segmentfault.com/user/finance">我的资产</a></li><li><a href="https://segmentfault.com/user/settings">个人设置</a></li><li><a href="https://segmentfault.com/api/user/logout?_=a94345b99f0867c037506721624e17af">退出</a></li></ul></div></div></div><hr><div class="menu-footer"><a class="js__action--complain" href="javascript:void(0);"><span>用户申诉</span></a>
         · <a href="https://segmentfault.com/g/1570000009280187"><span>建议反馈</span></a>
         · <a href="https://segmentfault.com/user/invitation"><span>邀请朋友</span></a></div></div><script type="text/template" id="js__action--complain-tpl"><form class="complain__form" method="post" action="/api/appeals/add"><div class="form-group"><label>理由</label><textarea name="description" class="form-control"rows="3"></textarea></div></form></script></li></ul></div></div></nav></div>
    
<input id="articleId" value="1190000013813740" class="hidden">
<div class="wrap" data-blogid="1200000010412563">
        <div class="post-topheader custom-">
        <div class="container">
            <div class="block-for-right-border">
                <div class="row">
                    <div class="col-md-9 col-sm-8 col-xs-12">
                        <div class="post-topheader__info" data-username="搜云库" data-userslug="souyunku" data-useravatar="https://sfault-avatar.b0.upaiyun.com/887/514/887514003-5a48a6616c8dc_big64">

                            <h1 class="h3 post-topheader__info--title" id="articleTitle" data-id="1190000013813740">
                                <a href="https://segmentfault.com/a/1190000013813740"> 想进大厂？50个多线程面试题，你会多少？（一）</a>
                            </h1>

                            <div class="content__tech blog-type-common blog-type-1-before">
                                <ul class="taglist--inline inline-block article__title--tag mr10">
                                                                            <li class="tagPopup mb5">
                                            <a class="tag" href="https://segmentfault.com/t/java/blogs" data-toggle="popover" data-img="https://sfault-avatar.b0.upaiyun.com/512/342/51234253-1040000000089449_huge256" data-placement="top" data-original-title="java" data-id="1040000000089449">
                                                                                            <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/868271510-54cb382abb7a1_small">
                                                                                        java
                                            </a>
                                        </li>
                                                                    </ul>
                                                                                                <div class="article__author">
                                    <a href="https://segmentfault.com/u/souyunku" class="mr5 "><strong>搜云库</strong></a>
                                    2 天前发布
                                                                                                        </div>
                            </div>

                                                        <form class="form form__tech hidden" data-action="#">
                                <span class="pull-right">
                                    <button class="btn btn-default save-tags-btn" type="button">保存</button>
                                </span>
                                <div class="form-group" style="margin-right: 65px">
                                    <label for="tags" class="sr-only">标签：至少1个，最多5个</label>
                                    <input class="tagsInput form-control hidden" data-init="[{&quot;name&quot;:&quot;java&quot;,&quot;url&quot;:&quot;\/t\/java&quot;,&quot;id&quot;:&quot;1040000000089449&quot;,&quot;thumbnailUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/512\/342\/51234253-1040000000089449_huge256&quot;,&quot;contentCount&quot;:26042,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/868\/271\/868271510-54cb382abb7a1_small&quot;}]" name="tags" type="text" placeholder="标签，如：php 可使用逗号,分号;分隔" data-role="tagsinput"><div class="sf-typeHelper sf-typeHelper--fortags"><span class="sf-typeHelper-item  "><img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/868271510-54cb382abb7a1_small">java<span data-role="remove">×</span></span><input type="text" data-role="sf_typeHelper-input" class="sf-typeHelper-input" placeholder="标签，如：php 可使用逗号,分号;分隔" style="width: 20em;"><ul class="sf-typeHelper-list dropdown-menu" style="display: none;"></ul></div>
                                    <div role="tabpanel" class="techTags panel panel-default techTags-panel" data-tech="{&quot;\u5f00\u53d1\u8bed\u8a00&quot;:[{&quot;id&quot;:&quot;1040000000089436&quot;,&quot;name&quot;:&quot;javascript&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089387&quot;,&quot;name&quot;:&quot;php&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089434&quot;,&quot;name&quot;:&quot;css&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089571&quot;,&quot;name&quot;:&quot;html&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089449&quot;,&quot;name&quot;:&quot;java&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/868\/271\/868271510-54cb382abb7a1_small&quot;},{&quot;id&quot;:&quot;1040000000089409&quot;,&quot;name&quot;:&quot;html5&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/102\/500\/1025005915-54cb538538eea_small&quot;},{&quot;id&quot;:&quot;1040000000089534&quot;,&quot;name&quot;:&quot;python&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/252\/177\/2521771040-54cb53b372821_small&quot;},{&quot;id&quot;:&quot;1040000000089918&quot;,&quot;name&quot;:&quot;node.js&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089741&quot;,&quot;name&quot;:&quot;c++&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089457&quot;,&quot;name&quot;:&quot;c&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090209&quot;,&quot;name&quot;:&quot;objective-c&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090203&quot;,&quot;name&quot;:&quot;golang&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089669&quot;,&quot;name&quot;:&quot;shell&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000531223&quot;,&quot;name&quot;:&quot;swift&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089581&quot;,&quot;name&quot;:&quot;c#&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089699&quot;,&quot;name&quot;:&quot;ruby&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/336\/760\/3367608758-54cb53ca5a132_small&quot;},{&quot;id&quot;:&quot;1040000000365394&quot;,&quot;name&quot;:&quot;typescript&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089686&quot;,&quot;name&quot;:&quot;bash&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000091262&quot;,&quot;name&quot;:&quot;sass&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090433&quot;,&quot;name&quot;:&quot;asp.net&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090600&quot;,&quot;name&quot;:&quot;less&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090208&quot;,&quot;name&quot;:&quot;lua&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090228&quot;,&quot;name&quot;:&quot;scala&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000161068&quot;,&quot;name&quot;:&quot;coffeescript&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090194&quot;,&quot;name&quot;:&quot;actionscript&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090201&quot;,&quot;name&quot;:&quot;erlang&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089698&quot;,&quot;name&quot;:&quot;perl&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000311191&quot;,&quot;name&quot;:&quot;rust&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u5e73\u53f0\u6846\u67b6&quot;:[{&quot;id&quot;:&quot;1040000000196640&quot;,&quot;name&quot;:&quot;laravel&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090103&quot;,&quot;name&quot;:&quot;spring&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089564&quot;,&quot;name&quot;:&quot;django&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000125263&quot;,&quot;name&quot;:&quot;flask&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000166256&quot;,&quot;name&quot;:&quot;express&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089646&quot;,&quot;name&quot;:&quot;ruby-on-rails&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090398&quot;,&quot;name&quot;:&quot;yii&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000116331&quot;,&quot;name&quot;:&quot;tornado&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000622042&quot;,&quot;name&quot;:&quot;koa&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089638&quot;,&quot;name&quot;:&quot;struts&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u670d\u52a1\u5668&quot;:[{&quot;id&quot;:&quot;1040000000089392&quot;,&quot;name&quot;:&quot;linux&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090145&quot;,&quot;name&quot;:&quot;nginx&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089761&quot;,&quot;name&quot;:&quot;apache&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000366352&quot;,&quot;name&quot;:&quot;docker&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090245&quot;,&quot;name&quot;:&quot;ubuntu&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/335\/109\/3351090335-569f0f26a2a86_small&quot;},{&quot;id&quot;:&quot;1040000000090249&quot;,&quot;name&quot;:&quot;centos&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090117&quot;,&quot;name&quot;:&quot;tomcat&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090401&quot;,&quot;name&quot;:&quot;\u7f13\u5b58&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090107&quot;,&quot;name&quot;:&quot;\u8d1f\u8f7d\u5747\u8861&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090646&quot;,&quot;name&quot;:&quot;unix&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089648&quot;,&quot;name&quot;:&quot;hadoop&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090609&quot;,&quot;name&quot;:&quot;windows-server&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u6570\u636e\u5e93\u548c\u7f13\u5b58&quot;:[{&quot;id&quot;:&quot;1040000000089439&quot;,&quot;name&quot;:&quot;mysql&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/949\/844\/9498447-54cb56e325a72_small&quot;},{&quot;id&quot;:&quot;1040000000090049&quot;,&quot;name&quot;:&quot;sql&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089431&quot;,&quot;name&quot;:&quot;redis&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089488&quot;,&quot;name&quot;:&quot;mongodb&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/183\/816\/1838168166-54cb5552ef5de_small&quot;},{&quot;id&quot;:&quot;1040000000090701&quot;,&quot;name&quot;:&quot;oracle&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089432&quot;,&quot;name&quot;:&quot;nosql&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089873&quot;,&quot;name&quot;:&quot;memcached&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090424&quot;,&quot;name&quot;:&quot;sqlserver&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090354&quot;,&quot;name&quot;:&quot;sqlite&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090861&quot;,&quot;name&quot;:&quot;postgresql&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u5f00\u53d1\u5de5\u5177&quot;:[{&quot;id&quot;:&quot;1040000000089459&quot;,&quot;name&quot;:&quot;git&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000091226&quot;,&quot;name&quot;:&quot;github&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089467&quot;,&quot;name&quot;:&quot;vim&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089579&quot;,&quot;name&quot;:&quot;xcode&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000126097&quot;,&quot;name&quot;:&quot;sublime-text&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000002720957&quot;,&quot;name&quot;:&quot;visual-studio-code&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089509&quot;,&quot;name&quot;:&quot;eclipse&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090560&quot;,&quot;name&quot;:&quot;intellij-idea&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090186&quot;,&quot;name&quot;:&quot;maven&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089447&quot;,&quot;name&quot;:&quot;svn&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090473&quot;,&quot;name&quot;:&quot;ide&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090524&quot;,&quot;name&quot;:&quot;atom&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090231&quot;,&quot;name&quot;:&quot;visual-studio&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090216&quot;,&quot;name&quot;:&quot;emacs&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000183694&quot;,&quot;name&quot;:&quot;hg&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089663&quot;,&quot;name&quot;:&quot;textmate&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u7cfb\u7edf\u8bbe\u5907&quot;:[{&quot;id&quot;:&quot;1040000000089658&quot;,&quot;name&quot;:&quot;android&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/287\/281\/287281599-5a263edae47e9_small&quot;},{&quot;id&quot;:&quot;1040000000089442&quot;,&quot;name&quot;:&quot;ios&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/300\/191\/3001919899-5488009eb028c_small&quot;},{&quot;id&quot;:&quot;1040000000089407&quot;,&quot;name&quot;:&quot;chrome&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/281\/209\/2812096638-54cb55083b2cc_small&quot;},{&quot;id&quot;:&quot;1040000000089709&quot;,&quot;name&quot;:&quot;windows&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089498&quot;,&quot;name&quot;:&quot;iphone&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090217&quot;,&quot;name&quot;:&quot;firefox&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/334\/705\/334705769-54cb552688a94_small&quot;},{&quot;id&quot;:&quot;1040000000125504&quot;,&quot;name&quot;:&quot;internet-explorer&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000089499&quot;,&quot;name&quot;:&quot;safari&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090638&quot;,&quot;name&quot;:&quot;ipad&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090218&quot;,&quot;name&quot;:&quot;opera&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000002871462&quot;,&quot;name&quot;:&quot;apple-watch&quot;,&quot;iconUrl&quot;:&quot;&quot;}],&quot;\u5176\u5b83&quot;:[{&quot;id&quot;:&quot;1040000000089409&quot;,&quot;name&quot;:&quot;html5&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/102\/500\/1025005915-54cb538538eea_small&quot;},{&quot;id&quot;:&quot;1040000002893277&quot;,&quot;name&quot;:&quot;react.js&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090137&quot;,&quot;name&quot;:&quot;\u641c\u7d22\u5f15\u64ce&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000123810&quot;,&quot;name&quot;:&quot;virtualenv&quot;,&quot;iconUrl&quot;:&quot;&quot;},{&quot;id&quot;:&quot;1040000000090316&quot;,&quot;name&quot;:&quot;lucene&quot;,&quot;iconUrl&quot;:&quot;&quot;}]}" style="display: none;">
    <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="https://segmentfault.com/a/1190000013813740#%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80" aria-controls="type" role="tab" data-toggle="tab">开发语言</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E5%B9%B3%E5%8F%B0%E6%A1%86%E6%9E%B6" aria-controls="type" role="tab" data-toggle="tab">平台框架</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E6%9C%8D%E5%8A%A1%E5%99%A8" aria-controls="type" role="tab" data-toggle="tab">服务器</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E7%BC%93%E5%AD%98" aria-controls="type" role="tab" data-toggle="tab">数据库和缓存</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7" aria-controls="type" role="tab" data-toggle="tab">开发工具</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E5%A4%87" aria-controls="type" role="tab" data-toggle="tab">系统设备</a>
            </li>
                    <li role="presentation" class=""><a href="https://segmentfault.com/a/1190000013813740#%E5%85%B6%E5%AE%83" aria-controls="type" role="tab" data-toggle="tab">其它</a>
            </li>
            </ul>
    <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="开发语言">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089436&quot;,&quot;name&quot;:&quot;javascript&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                javascript
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089387&quot;,&quot;name&quot;:&quot;php&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                php
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089434&quot;,&quot;name&quot;:&quot;css&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                css
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089571&quot;,&quot;name&quot;:&quot;html&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                html
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089449&quot;,&quot;name&quot;:&quot;java&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/868\/271\/868271510-54cb382abb7a1_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/868271510-54cb382abb7a1_small">
                                                                java
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089409&quot;,&quot;name&quot;:&quot;html5&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/102\/500\/1025005915-54cb538538eea_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/1025005915-54cb538538eea_small">
                                                                html5
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089534&quot;,&quot;name&quot;:&quot;python&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/252\/177\/2521771040-54cb53b372821_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/2521771040-54cb53b372821_small">
                                                                python
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089918&quot;,&quot;name&quot;:&quot;node.js&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                node.js
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089741&quot;,&quot;name&quot;:&quot;c++&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                c++
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089457&quot;,&quot;name&quot;:&quot;c&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                c
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090209&quot;,&quot;name&quot;:&quot;objective-c&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                objective-c
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090203&quot;,&quot;name&quot;:&quot;golang&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                golang
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089669&quot;,&quot;name&quot;:&quot;shell&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                shell
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000531223&quot;,&quot;name&quot;:&quot;swift&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                swift
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089581&quot;,&quot;name&quot;:&quot;c#&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                c#
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089699&quot;,&quot;name&quot;:&quot;ruby&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/336\/760\/3367608758-54cb53ca5a132_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/3367608758-54cb53ca5a132_small">
                                                                ruby
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000365394&quot;,&quot;name&quot;:&quot;typescript&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                typescript
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089686&quot;,&quot;name&quot;:&quot;bash&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                bash
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000091262&quot;,&quot;name&quot;:&quot;sass&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                sass
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090433&quot;,&quot;name&quot;:&quot;asp.net&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                asp.net
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090600&quot;,&quot;name&quot;:&quot;less&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                less
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090208&quot;,&quot;name&quot;:&quot;lua&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                lua
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090228&quot;,&quot;name&quot;:&quot;scala&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                scala
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000161068&quot;,&quot;name&quot;:&quot;coffeescript&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                coffeescript
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090194&quot;,&quot;name&quot;:&quot;actionscript&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                actionscript
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090201&quot;,&quot;name&quot;:&quot;erlang&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                erlang
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089698&quot;,&quot;name&quot;:&quot;perl&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                perl
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000311191&quot;,&quot;name&quot;:&quot;rust&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                rust
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="平台框架">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000196640&quot;,&quot;name&quot;:&quot;laravel&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                laravel
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090103&quot;,&quot;name&quot;:&quot;spring&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                spring
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089564&quot;,&quot;name&quot;:&quot;django&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                django
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000125263&quot;,&quot;name&quot;:&quot;flask&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                flask
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000166256&quot;,&quot;name&quot;:&quot;express&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                express
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089646&quot;,&quot;name&quot;:&quot;ruby-on-rails&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                ruby-on-rails
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090398&quot;,&quot;name&quot;:&quot;yii&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                yii
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000116331&quot;,&quot;name&quot;:&quot;tornado&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                tornado
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000622042&quot;,&quot;name&quot;:&quot;koa&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                koa
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089638&quot;,&quot;name&quot;:&quot;struts&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                struts
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="服务器">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089392&quot;,&quot;name&quot;:&quot;linux&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                linux
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090145&quot;,&quot;name&quot;:&quot;nginx&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                nginx
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089761&quot;,&quot;name&quot;:&quot;apache&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                apache
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000366352&quot;,&quot;name&quot;:&quot;docker&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                docker
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090245&quot;,&quot;name&quot;:&quot;ubuntu&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/335\/109\/3351090335-569f0f26a2a86_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/3351090335-569f0f26a2a86_small">
                                                                ubuntu
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090249&quot;,&quot;name&quot;:&quot;centos&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                centos
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090117&quot;,&quot;name&quot;:&quot;tomcat&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                tomcat
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090401&quot;,&quot;name&quot;:&quot;\u7f13\u5b58&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                缓存
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090107&quot;,&quot;name&quot;:&quot;\u8d1f\u8f7d\u5747\u8861&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                负载均衡
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090646&quot;,&quot;name&quot;:&quot;unix&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                unix
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089648&quot;,&quot;name&quot;:&quot;hadoop&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                hadoop
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090609&quot;,&quot;name&quot;:&quot;windows-server&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                windows-server
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="数据库和缓存">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089439&quot;,&quot;name&quot;:&quot;mysql&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/949\/844\/9498447-54cb56e325a72_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/9498447-54cb56e325a72_small">
                                                                mysql
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090049&quot;,&quot;name&quot;:&quot;sql&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                sql
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089431&quot;,&quot;name&quot;:&quot;redis&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                redis
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089488&quot;,&quot;name&quot;:&quot;mongodb&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/183\/816\/1838168166-54cb5552ef5de_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/1838168166-54cb5552ef5de_small">
                                                                mongodb
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090701&quot;,&quot;name&quot;:&quot;oracle&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                oracle
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089432&quot;,&quot;name&quot;:&quot;nosql&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                nosql
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089873&quot;,&quot;name&quot;:&quot;memcached&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                memcached
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090424&quot;,&quot;name&quot;:&quot;sqlserver&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                sqlserver
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090354&quot;,&quot;name&quot;:&quot;sqlite&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                sqlite
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090861&quot;,&quot;name&quot;:&quot;postgresql&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                postgresql
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="开发工具">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089459&quot;,&quot;name&quot;:&quot;git&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                git
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000091226&quot;,&quot;name&quot;:&quot;github&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                github
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089467&quot;,&quot;name&quot;:&quot;vim&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                vim
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089579&quot;,&quot;name&quot;:&quot;xcode&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                xcode
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000126097&quot;,&quot;name&quot;:&quot;sublime-text&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                sublime-text
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000002720957&quot;,&quot;name&quot;:&quot;visual-studio-code&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                visual-studio-code
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089509&quot;,&quot;name&quot;:&quot;eclipse&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                eclipse
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090560&quot;,&quot;name&quot;:&quot;intellij-idea&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                intellij-idea
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090186&quot;,&quot;name&quot;:&quot;maven&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                maven
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089447&quot;,&quot;name&quot;:&quot;svn&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                svn
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090473&quot;,&quot;name&quot;:&quot;ide&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                ide
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090524&quot;,&quot;name&quot;:&quot;atom&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                atom
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090231&quot;,&quot;name&quot;:&quot;visual-studio&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                visual-studio
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090216&quot;,&quot;name&quot;:&quot;emacs&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                emacs
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000183694&quot;,&quot;name&quot;:&quot;hg&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                hg
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089663&quot;,&quot;name&quot;:&quot;textmate&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                textmate
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="系统设备">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089658&quot;,&quot;name&quot;:&quot;android&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/287\/281\/287281599-5a263edae47e9_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/287281599-5a263edae47e9_small">
                                                                android
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089442&quot;,&quot;name&quot;:&quot;ios&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/300\/191\/3001919899-5488009eb028c_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/3001919899-5488009eb028c_small">
                                                                ios
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089407&quot;,&quot;name&quot;:&quot;chrome&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/281\/209\/2812096638-54cb55083b2cc_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/2812096638-54cb55083b2cc_small">
                                                                chrome
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089709&quot;,&quot;name&quot;:&quot;windows&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                windows
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089498&quot;,&quot;name&quot;:&quot;iphone&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                iphone
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090217&quot;,&quot;name&quot;:&quot;firefox&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/334\/705\/334705769-54cb552688a94_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/334705769-54cb552688a94_small">
                                                                firefox
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000125504&quot;,&quot;name&quot;:&quot;internet-explorer&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                internet-explorer
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089499&quot;,&quot;name&quot;:&quot;safari&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                safari
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090638&quot;,&quot;name&quot;:&quot;ipad&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                ipad
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090218&quot;,&quot;name&quot;:&quot;opera&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                opera
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000002871462&quot;,&quot;name&quot;:&quot;apple-watch&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                apple-watch
                            </a>
                        </li>
                                    </ul>
            </div>
                    <div role="tabpanel" class="tab-pane " id="其它">
                <ul class="taglist--inline">
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000089409&quot;,&quot;name&quot;:&quot;html5&quot;,&quot;iconUrl&quot;:&quot;https:\/\/sfault-avatar.b0.upaiyun.com\/102\/500\/1025005915-54cb538538eea_small&quot;}" href="javascript: void(0);">
                                                                    <img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/1025005915-54cb538538eea_small">
                                                                html5
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000002893277&quot;,&quot;name&quot;:&quot;react.js&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                react.js
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090137&quot;,&quot;name&quot;:&quot;\u641c\u7d22\u5f15\u64ce&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                搜索引擎
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000123810&quot;,&quot;name&quot;:&quot;virtualenv&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                virtualenv
                            </a>
                        </li>
                                            <li class="mb5">
                            <a class="tag" data-tag="{&quot;id&quot;:&quot;1040000000090316&quot;,&quot;name&quot;:&quot;lucene&quot;,&quot;iconUrl&quot;:&quot;&quot;}" href="javascript: void(0);">
                                                                lucene
                            </a>
                        </li>
                                    </ul>
            </div>
            </div>
</div>

                                </div>
                               
                            </form>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-4 hidden-xs">
                        <ul class="post-topheader__side list-unstyled">
                            <li>
                                <button type="button" class="btn btn-success btn-sm " data-id="1190000013813740" id="sideLike"><span id="sideLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                            <span id="sideLikeNum">60</span></button><button type="button" id="sideBookmark" class="btn btn-default btn-sm active" data-id="1190000013813740" data-type="article"><span id="sideBookmarkText">已收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="sideBookmarkNum">178</span></button>                            </li>
                            <li>
                                <strong class="no-stress">2.3k</strong> 次浏览
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- end .post-topheader -->

    <div class="container mt30">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">

                
                <div class="article fmt article__content" data-id="1190000013813740" data-license="nd">
                    
<p>最近看到网上流传着，各种面试经验及面试题，往往都是一大堆技术题目贴上去，而没有答案。</p>
<p>不管你是新程序员还是老手，你一定在面试中遇到过有关线程的问题。Java语言一个重要的特点就是内置了对并发的支持，让Java大受企业和程序员的欢迎。大多数待遇丰厚的Java开发职位都要求开发者精通多线程技术并且有丰富的Java程序开发、调试、优化经验，所以线程相关的问题在面试中经常会被提到。<br>在典型的Java面试中， 面试官会从线程的基本概念问起</p>
<p>如：为什么你需要使用线程， 如何创建线程，用什么方式创建线程比较好（比如：继承thread类还是调用Runnable接口），然后逐渐问到并发问题像在Java并发编程的过程中遇到了什么挑战，Java内存模型，JDK1.5引入了哪些更高阶的并发工具，并发编程常用的设计模式，经典多线程问题如生产者消费者，哲学家就餐，读写器或者简单的有界缓冲区问题。仅仅知道线程的基本概念是远远不够的， 你必须知道如何处理死锁，竞态条件，内存冲突和线程安全等并发问题。掌握了这些技巧，你就可以轻松应对多线程和并发面试了。<br>许多Java程序员在面试前才会去看面试题，这很正常。</p>
<p>因为收集面试题和练习很花时间，所以我从许多面试者那里收集了Java多线程和并发相关的50个热门问题。</p>
<h2 id="articleHeader0">关注微信公众号 "搜云库" 获取最新文章</h2>
<ul><li>我陆续会更新更多的面试知识点</li></ul>
<h3 id="articleHeader1">【福利】公众号后台回复 “进群” 拉你进微信【技术分享群】</h3>
<h3 id="articleHeader2">【福利】在里面你可以认识到很多搞技术大佬，免费提问，互相学习</h3>
<p><span class="img-wrap"><img data-src="/img/remote/1460000011044565" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/1460000011044565" style="cursor: pointer; display: inline;"></span></p>
<p>下面是Java线程相关的热门面试题，你可以用它来好好准备面试。</p>
<ol>
<li>什么是线程？</li>
<li>什么是线程安全和线程不安全？</li>
<li>什么是自旋锁？</li>
<li>什么是Java内存模型？</li>
<li>什么是CAS？</li>
<li>什么是乐观锁和悲观锁？</li>
<li>什么是AQS？</li>
<li>什么是原子操作？在Java Concurrency API中有哪些原子类(atomic classes)？</li>
<li>什么是Executors框架？</li>
<li>什么是阻塞队列？如何使用阻塞队列来实现生产者-消费者模型？</li>
<li>什么是Callable和Future?</li>
<li>什么是FutureTask?</li>
<li>什么是同步容器和并发容器的实现？</li>
<li>什么是多线程？优缺点？</li>
<li>什么是多线程的上下文切换？</li>
<li>ThreadLocal的设计理念与作用？</li>
<li>ThreadPool（线程池）用法与优势？</li>
<li>Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。</li>
<li>synchronized和ReentrantLock的区别？</li>
<li>Semaphore有什么作用？</li>
<li>Java Concurrency API中的Lock接口(Lock interface)是什么？对比同步它有什么优势？</li>
<li>Hashtable的size()方法中明明只有一条语句”return count”，为什么还要做同步？</li>
<li>ConcurrentHashMap的并发度是什么？</li>
<li>ReentrantReadWriteLock读写锁的使用？</li>
<li>CyclicBarrier和CountDownLatch的用法及区别？</li>
<li>LockSupport工具？</li>
<li>Condition接口及其实现原理？</li>
<li>Fork/Join框架的理解?</li>
<li>wait()和sleep()的区别?</li>
<li>线程的五个状态（五种状态，创建、就绪、运行、阻塞和死亡）?</li>
<li>start()方法和run()方法的区别？</li>
<li>Runnable接口和Callable接口的区别？</li>
<li>volatile关键字的作用？</li>
<li>Java中如何获取到线程dump文件？</li>
<li>线程和进程有什么区别？</li>
<li>线程实现的方式有几种（四种）？</li>
<li>高并发、任务执行时间短的业务怎样使用线程池？并发不高、任务执行时间长的业务怎样使用线程池？并发高、业务执行时间长的业务怎样使用线程池？</li>
<li>如果你提交任务时，线程池队列已满，这时会发生什么？</li>
<li>锁的等级：方法锁、对象锁、类锁?</li>
<li>如果同步块内的线程抛出异常会发生什么？</li>
<li>并发编程（concurrency）并行编程（parallellism）有什么区别？</li>
<li>如何保证多线程下 i++ 结果正确？</li>
<li>一个线程如果出现了运行时异常会怎么样?</li>
<li>如何在两个线程之间共享数据?</li>
<li>生产者消费者模型的作用是什么?</li>
<li>怎么唤醒一个阻塞的线程?</li>
<li>Java中用到的线程调度算法是什么</li>
<li>单例模式的线程安全性?</li>
<li>线程类的构造方法、静态块是被哪个线程调用的?</li>
<li>同步方法和同步块，哪个是更好的选择?</li>
<li>如何检测死锁？怎么预防死锁？</li>
</ol>
<h1 id="articleHeader3">什么是线程？</h1>
<p>线程是操作系统能够进行运算调度的最小单位，它被包含在进程之中，是进程中的实际运作单位，可以使用多线程对进行运算提速。</p>
<p>比如，如果一个线程完成一个任务要100毫秒，那么用十个线程完成改任务只需10毫秒</p>
<h1 id="articleHeader4">什么是线程安全和线程不安全？</h1>
<p><strong>通俗的说：加锁的就是是线程安全的，不加锁的就是是线程不安全的</strong></p>
<h3 id="articleHeader5">线程安全</h3>
<p><strong>线程安全: 就是多线程访问时，采用了加锁机制，当一个线程访问该类的某个数据时，进行保护，其他线程不能进行访问，直到该线程读取完，其他线程才可使用。不会出现数据不一致或者数据污染</strong>。</p>
<p>一个线程安全的计数器类的同一个实例对象在被多个线程使用的情况下也不会出现计算失误。很显然你可以将<strong>集合类分成两组，线程安全和非线程安全的</strong>。<br>Vector 是用同步方法来实现线程安全的, 而和它相似的ArrayList不是线程安全的。</p>
<h3 id="articleHeader6">线程不安全</h3>
<p><strong>线程不安全：就是不提供数据访问保护，有可能出现多个线程先后更改数据造成所得到的数据是脏数据</strong> </p>
<p>如果你的代码所在的进程中有多个线程在同时运行，而这些线程可能会同时运行这段代码。如果每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。</p>
<p>线程安全问题都是由全局变量及静态变量引起的。<br>若每个线程中对全局变量、静态变量只有读操作，而无写操作，一般来说，这个全局变量是线程安全的；若有多个线程同时执行写操作，一般都需要考虑线程同步，否则的话就可能影响线程安全。</p>
<h1 id="articleHeader7">什么是自旋锁？</h1>
<h3 id="articleHeader8">基本概念</h3>
<p><strong>自旋锁是SMP架构中的一种low-level的同步机制</strong>。</p>
<p>当线程A想要获取一把自选锁而该锁又被其它线程锁持有时，线程A会在一个循环中自选以检测锁是不是已经可用了。</p>
<p><strong>自选锁需要注意</strong>：</p>
<ul>
<li><strong>由于自旋时不释放CPU，因而持有自旋锁的线程应该尽快释放自旋锁，否则等待该自旋锁的线程会一直在那里自旋，这就会浪费CPU时间。</strong></li>
<li>
<strong>持有自旋锁的线程在sleep之前应该释放自旋锁以便其它线程可以获得自旋锁</strong>。</li>
</ul>
<h3 id="articleHeader9">实现自旋锁</h3>
<p>参考</p>
<p><a href="https://segmentfault.com/q/1010000000530936">https://segmentfault.com/q/1010000000530936</a></p>
<p>一个简单的while就可以满足你的要求。</p>
<p>目前的JVM实现自旋会消耗CPU，如果长时间不调用doNotify方法，doWait方法会一直自旋，CPU会消耗太大。</p>
<div class="widget-codetool" style="display: none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public class MyWaitNotify3{

  MonitorObject myMonitorObject = new MonitorObject();
  boolean wasSignalled = false;

  public void doWait(){
    synchronized(myMonitorObject){
      while(!wasSignalled){
        try{
          myMonitorObject.wait();
         } catch(InterruptedException e){...}
      }
      //clear signal and continue running.
      wasSignalled = false;
    }
  }

  public void doNotify(){
    synchronized(myMonitorObject){
      wasSignalled = true;
      myMonitorObject.notify();
    }
  }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs java"><code><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWaitNotify3</span></span>{

  MonitorObject myMonitorObject = <span class="hljs-keyword">new</span> MonitorObject();
  <span class="hljs-keyword">boolean</span> wasSignalled = <span class="hljs-keyword">false</span>;

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doWait</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">synchronized</span>(myMonitorObject){
      <span class="hljs-keyword">while</span>(!wasSignalled){
        <span class="hljs-keyword">try</span>{
          myMonitorObject.wait();
         } <span class="hljs-keyword">catch</span>(InterruptedException e){...}
      }
      <span class="hljs-comment">//clear signal and continue running.</span>
      wasSignalled = <span class="hljs-keyword">false</span>;
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doNotify</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">synchronized</span>(myMonitorObject){
      wasSignalled = <span class="hljs-keyword">true</span>;
      myMonitorObject.notify();
    }
  }
}</code></pre>
<h1 id="articleHeader10">什么是Java内存模型？</h1>
<p><strong>Java内存模型描述了在多线程代码中哪些行为是合法的，以及线程如何通过内存进行交互。它描述了“程序中的变量“ 和 ”从内存或者寄存器获取或存储它们的底层细节”之间的关系。Java内存模型通过使用各种各样的硬件和编译器的优化来正确实现以上事情</strong>。</p>
<p><strong>Java包含了几个语言级别的关键字，包括：volatile, final以及synchronized，目的是为了帮助程序员向编译器描述一个程序的并发需求。Java内存模型定义了volatile和synchronized的行为，更重要的是保证了同步的java程序在所有的处理器架构下面都能正确的运行。</strong></p>
<p>“一个线程的写操作对其他线程可见”这个问题是因为编译器对代码进行重排序导致的。例如，只要代码移动不会改变程序的语义，当编译器认为程序中移动一个写操作到后面会更有效的时候，编译器就会对代码进行移动。如果编译器推迟执行一个操作，其他线程可能在这个操作执行完之前都不会看到该操作的结果，这反映了缓存的影响。</p>
<p>此外，写入内存的操作能够被移动到程序里更前的时候。在这种情况下，其他的线程在程序中可能看到一个比它实际发生更早的写操作。所有的这些灵活性的设计是为了通过给编译器，运行时或硬件灵活性使其能在最佳顺序的情况下来执行操作。在内存模型的限定之内，我们能够获取到更高的性能。</p>
<p>看下面代码展示的一个简单例子：</p>
<div class="widget-codetool" style="display: none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="ClassReordering {
    
    int x = 0, y = 0;
   
    public void writer() {
        x = 1;
        y = 2;
    }

    public void reader() {
        int r1 = y;
        int r2 = x;
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs cpp"><code>ClassReordering {
    
    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;
   
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writer</span><span class="hljs-params">()</span> </span>{
        x = <span class="hljs-number">1</span>;
        y = <span class="hljs-number">2</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">reader</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span> r1 = y;
        <span class="hljs-keyword">int</span> r2 = x;
    }
}</code></pre>
<p>让我们看在两个并发线程中执行这段代码，读取Y变量将会得到2这个值。因为这个写入比写到X变量更晚一些，程序员可能认为读取X变量将肯定会得到1。但是，写入操作可能被重排序过。如果重排序发生了，那么，就能发生对Y变量的写入操作，读取两个变量的操作紧随其后，而且写入到X这个操作能发生。程序的结果可能是r1变量的值是2，但是r2变量的值为0。</p>
<h3 id="articleHeader11">但是面试官，有时候不这么认为，认为就是JVM内存结构</h3>
<p>JVM内存结构主要有三大块：<strong>堆内存、方法区和栈</strong>。</p>
<p>堆内存是JVM中最大的一块由年轻代和老年代组成，而年轻代内存又被分成三部分，<strong>Eden空间、From Survivor空间、To Survivor空间</strong>,默认情况下年轻代按照8:1:1的比例来分配；<strong>方法区存储类信息、常量、静态变量等数据，是线程共享的区域</strong>，为与Java堆区分，方法区还有一个别名Non-Heap(非堆)；栈又分为java虚拟机栈和本地方法栈主要用于方法的执行。</p>
<p><strong>JAVA的JVM的内存可分为3个区：堆(heap)、栈(stack)和方法区(method)</strong></p>
<h3 id="articleHeader12">java堆（Java Heap）</h3>
<ul><li><strong>可通过参数 -Xms 和-Xmx设置</strong></li></ul>
<ol>
<li>
<strong>Java堆是被所有线程共享,是Java虚拟机所管理的内存中最大的一块 Java堆在虚拟机启动时创建</strong>。</li>
<li>
<strong>Java堆唯一的目的是存放对象实例，几乎所有的对象实例和数组都在这里</strong>。</li>
<li>Java堆为了便于更好的回收和分配内存，可以细分为：<strong>新生代和老年代</strong>；再细致一点的有<strong>Eden空间、From Survivor空间、To Survivor区</strong>。</li>
</ol>
<ul>
<li>
<strong>新生代</strong>：包括Eden区、From Survivor区、To Survivor区，系统默认大小Eden:Survivor=8:1。</li>
<li>
<strong>老年代</strong>：在年轻代中经历了N次垃圾回收后仍然存活的对象，就会被放到年老代中。因此，可以认为年老代中存放的都是一些生命周期较长的对象。</li>
</ul>
<ol><li>Survivor空间等Java堆可以处在物理上不连续的内存空间中，只要逻辑上是连续的即可（就像我们的磁盘空间一样。在实现时，既可以实现成固定大小的，也可以是可扩展的）。</li></ol>
<p><strong>据Java虚拟机规范的规定，当方法区无法满足内存分配需求时，将抛出OutOfMemoryError异常</strong>。</p>
<h3 id="articleHeader13">java虚拟机栈(stack)</h3>
<p><strong>可通过参数 栈帧是方法运行期的基础数据结构栈容量可由-Xss设置</strong></p>
<p>1.<strong>Java虚拟机栈是线程私有的，它的生命周期与线程相同</strong>。</p>
<ol>
<li>每一个方法被调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。</li>
<li>虚拟机栈是执行Java方法的内存模型(也就是字节码)服务：<strong>每个方法在执行的同时都会创建一个栈帧</strong>，<strong>用于存储</strong> <strong>局部变量表</strong>、<strong>操作数栈</strong>、<strong>动态链接</strong>、<strong>方法出口</strong>等信息。</li>
</ol>
<ul>
<li>
<strong>局部变量表</strong>：32位变量槽，存放了编译期可知的<strong>各种基本数据类型、对象引用、returnAddress类型</strong>。</li>
<li>
<strong>操作数栈</strong>：基于栈的执行引擎，虚拟机把操作数栈作为它的工作区，大多数指令都要从这里弹出数据、执行运算，然后把结果压回操作数栈。</li>
<li>
<strong>动态连接</strong>：<strong>每个栈帧都包含一个指向运行时常量池（方法区的一部分）中该栈帧所属方法的引用</strong>。持有这个引用是为了支持方法调用过程中的动态连接。Class文件的常量池中有大量的符号引用，字节码中的方法调用指令就以常量池中指向方法的符号引用为参数。这些符号引用一部分会在类加载阶段或第一次使用的时候转化为直接引用，这种转化称为静态解析。另一部分将在每一次的运行期间转化为直接应用，这部分称为动态连接</li>
<li>
<strong>方法出口</strong>：返回方法被调用的位置，恢复上层方法的局部变量和操作数栈，如果无返回值，则把它压入调用者的操作数栈。</li>
</ul>
<ol>
<li>
<strong>局部变量表所需的内存空间在编译期间完成分配</strong>，当进入一个方法时，这个方法需要在帧中分配多大的局部变量空间是完全确定的。</li>
<li>
<strong>在方法运行期间不会改变局部变量表的大小。主要存放了编译期可知的各种基本数据类型、对象引用</strong> <a href="http://www.runoob.com/java/java-basic-datatypes.html" target="_blank">（reference类型）、returnAddress类型）</a>。</li>
</ol>
<p><strong>java虚拟机栈,规定了两种异常状况：</strong></p>
<ol>
<li>
<strong>如果线程请求的深度大于虚拟机所允许的深度，将抛出StackOverflowError异常</strong>。</li>
<li>
<strong>如果虚拟机栈动态扩展，而扩展时无法申请到足够的内存，就会抛出OutOfMemoryError异常</strong>。</li>
</ol>
<h3 id="articleHeader14">本地方法栈</h3>
<p><strong>可通过参数 栈容量可由-Xss设置</strong></p>
<ol>
<li>虚拟机栈为虚拟机执行Java方法（也就是字节码）服务。</li>
<li>本地方法栈则是为虚拟机使用到的Native方法服务。有的虚拟机（譬如Sun HotSpot虚拟机）直接就把本地方法栈和虚拟机栈合二为一</li>
</ol>
<h3 id="articleHeader15">方法区（Method Area）</h3>
<p><strong>可通过参数-XX:MaxPermSize设置</strong></p>
<ol>
<li>
<strong>线程共享内存区域，用于储存已被虚拟机加载的类信息、常量、静态变量，即编译器编译后的代码，方法区也称持久代（Permanent Generation）</strong>。</li>
<li>虽然Java虚拟机规范把方法区描述为堆的一个逻辑部分，但是它却有一个<strong>别名叫做Non-Heap（非堆）</strong>，目的应该是与Java堆区分开来。</li>
<li>如何实现方法区，属于虚拟机的实现细节，不受虚拟机规范约束。</li>
<li>方法区主要存放java类定义信息，与垃圾回收关系不大，方法区可以选择不实现垃圾回收,但不是没有垃圾回收。</li>
<li>
<strong>方法区域的内存回收目标主要是针对常量池的回收和对类型的卸载</strong>。</li>
<li>
<strong>运行时常量池，也是方法区的一部分，虚拟机加载Class后把常量池中的数据放入运行时常量池</strong>。</li>
</ol>
<h3 id="articleHeader16">运行时常量池</h3>
<p><strong>JDK1.6之前字符串常量池位于方法区之中</strong>。<br><strong>JDK1.7字符串常量池已经被挪到堆之中</strong>。</p>
<p><strong>可通过参数-XX:PermSize和-XX:MaxPermSize设置</strong></p>
<ul>
<li>
<strong>常量池</strong>（Constant Pool）：<strong>常量池数据编译期被确定，是Class文件中的一部分。存储了类、方法、接口等中的常量，当然也包括字符串常量</strong>。</li>
<li>
<strong>字符串池/字符串常量池</strong>（String Pool/String Constant Pool）：是常量池中的一部分，存储编译期类中产生的字符串类型数据。</li>
<li>
<strong>运行时常量池</strong>（Runtime Constant Pool）：<strong>方法区的一部分，所有线程共享。虚拟机加载Class后把常量池中的数据放入到运行时常量池</strong>。常量池：可以理解为Class文件之中的资源仓库，它是Class文件结构中与其他项目资源关联最多的数据类型。</li>
</ul>
<ol>
<li>常量池中主要存放两大类常量：字面量（Literal）和符号引用（Symbolic Reference）。</li>
<li>字面量：文本字符串、声明为final的常量值等。</li>
<li>符号引用：类和接口的完全限定名（Fully Qualified Name）、字段的名称和描述符（Descriptor）、方法的名称和描述符。</li>
</ol>
<h3 id="articleHeader17">直接内存</h3>
<p><strong>可通过-XX:MaxDirectMemorySize指定，如果不指定，则默认与Java堆的最大值（-Xmx指定）一样</strong>。</p>
<ul><li>
<strong>直接内存（Direct Memory）并不是虚拟机运行时数据区的一部分，也不是Java虚拟机规范中定义的内存区域，但是这部分内存也被频繁地使用，而且也可能导致OutOfMemoryError异常出现</strong>。</li></ul>
<h3 id="articleHeader18">总结的简单一点</h3>
<p><strong>java堆（Java Heap）</strong></p>
<p>可通过参数 -Xms 和-Xmx设置</p>
<ol>
<li>
<strong>Java堆是被所有线程共享</strong>,是Java虚拟机所管理的内存中最大的一块 Java堆在虚拟机启动时创建</li>
<li>Java堆唯一的目的是<strong>存放对象实例，几乎所有的对象实例和数组都在这里</strong>
</li>
<li>Java堆为了便于更好的回收和分配内存，可以细分为：新生代和老年代；再细致一点的有<strong>Eden空间、From Survivor空间、To Survivor区</strong>
</li>
</ol>
<ul>
<li>
<strong>新生代</strong>：包括Eden区、From Survivor区、To Survivor区，系统默认大小Eden:Survivor=8:1。</li>
<li>
<strong>老年代</strong>：在年轻代中经历了N次垃圾回收后仍然存活的对象，就会被放到年老代中。因此，可以认为年老代中存放的都是一些生命周期较长的对象。</li>
</ul>
<p><strong>java虚拟机栈(stack)</strong></p>
<p>可通过参数 栈帧是方法运行期的基础数据结构栈容量可由-Xss设置</p>
<ol>
<li>
<strong>Java虚拟机栈是线程私有的，它的生命周期与线程相同</strong>。</li>
<li>每一个方法被调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。</li>
<li>虚拟机栈是执行Java方法的内存模型(也就是字节码)服务：每个方法在执行的同时都会创建一个栈帧，<strong>用于存储 局部变量表</strong>、<strong>操作数栈</strong>、<strong>动态链接</strong>、<strong>方法出口</strong>等信息</li>
</ol>
<p><strong>方法区（Method Area）</strong></p>
<p>可通过参数-XX:MaxPermSize设置</p>
<ol>
<li>
<strong>线程共享内存区域）</strong>，用于<strong>储存已被虚拟机加载的类信息、常量、静态变量，即编译器编译后的代码</strong>，<strong>方法区也称持久代（Permanent Generation）</strong>。</li>
<li>方法区主要存放java类定义信息，与垃圾回收关系不大，方法区可以选择不实现垃圾回收,但不是没有垃圾回收。</li>
<li>方法区域的内存回收目标主要是针对常量池的回收和对类型的卸载。</li>
<li>
<strong>运行时常量池，也是方法区的一部分，虚拟机加载Class后把常量池中的数据放入运行时常量池</strong>。</li>
</ol>
<h1 id="articleHeader19">什么是CAS？</h1>
<p><strong>CAS（compare and swap）的缩写，中文翻译成比较并交换</strong>。</p>
<p>CAS 不通过JVM,直接利用java本地方 JNI（Java Native Interface为JAVA本地调用）,直接调用CPU 的cmpxchg（是汇编指令）指令。</p>
<p><strong>利用CPU的CAS指令，同时借助JNI来完成Java的非阻塞算法,实现原子操作。其它原子操作都是利用类似的特性完成的</strong>。</p>
<p>整个java.util.concurrent都是建立在CAS之上的，因此对于synchronized阻塞算法，J.U.C在性能上有了很大的提升。</p>
<p><strong>CAS是项乐观锁技术</strong>，当多个线程尝试使用CAS同时更新同一个变量时，只有其中一个线程能更新变量的值，而其它线程都失败，失败的线程并不会被挂起，而是被告知这次竞争中失败，并可以再次尝试。</p>
<h3 id="articleHeader20">CAS应用</h3>
<p>CAS有3个操作数，内存值V，旧的预期值A，要修改的新值B。当且仅当预期值A和内存值V相同时，将内存值V修改为B，否则什么都不做。</p>
<h3 id="articleHeader21">CAS优点</h3>
<p>确保对内存的读-改-写操作都是原子操作执行</p>
<h3 id="articleHeader22">CAS缺点</h3>
<p>CAS虽然很高效的解决原子操作，但是CAS仍然存在三大问题。ABA问题，循环时间长开销大和只能保证一个共享变量的原子操作</p>
<h3 id="articleHeader23">总结</h3>
<ol>
<li>
<strong>使用CAS在线程冲突严重时，会大幅降低程序性能；CAS只适合于线程冲突较少的情况使用</strong>。</li>
<li>
<strong>synchronized在jdk1.6之后，已经改进优化。synchronized的底层实现主要依靠Lock-Free的队列，基本思路是自旋后阻塞，竞争切换后继续竞争锁，稍微牺牲了公平性，但获得了高吞吐量。在线程冲突较少的情况下，可以获得和CAS类似的性能；而线程冲突严重的情况下，性能远高于CAS</strong>。</li>
</ol>
<p>参考<br><a href="https://blog.52itstyle.com/archives/948/" target="_blank">https://blog.52itstyle.com/archives/948/</a></p>
<h1 id="articleHeader24">什么是乐观锁和悲观锁？</h1>
<h3 id="articleHeader25">悲观锁</h3>
<p>Java在JDK1.5之前都是靠synchronized关键字保证同步的，这种通过使用一致的锁定协议来协调对共享状态的访问，可以确保无论哪个线程持有共享变量的锁，都采用独占的方式来访问这些变量。独占锁其实就是一种悲观锁，所以可以说synchronized是悲观锁。</p>
<h3 id="articleHeader26">乐观锁</h3>
<p>乐观锁（ Optimistic Locking）其实是一种思想。相对悲观锁而言，乐观锁假设认为数据一般情况下不会造成冲突，所以在数据进行提交更新的时候，才会正式对数据的冲突与否进行检测，如果发现冲突了，则让返回用户错误的信息，让用户决定如何去做。</p>
<h1 id="articleHeader27">什么是AQS？</h1>
<p>AbstractQueuedSynchronizer简称AQS，<strong>是一个用于构建锁和同步容器的框架</strong>。事实上concurrent包内许多类都是基于AQS构建，<strong>例如ReentrantLock</strong>，Semaphore，CountDownLatch，ReentrantReadWriteLock，<strong>FutureTask</strong>等。AQS解决了在实现同步容器时设计的大量细节问题。</p>
<p><strong>AQS使用一个FIFO的队列表示排队等待锁的线程，队列头节点称作“哨兵节点”或者“哑节点”，它不与任何线程关联。其他的节点与等待线程关联，每个节点维护一个等待状态waitStatus。</strong></p>
<h3 id="articleHeader28">CAS 原子操作在concurrent包的实现</h3>
<p>参考<br><a href="https://blog.52itstyle.com/archives/948/" target="_blank">https://blog.52itstyle.com/archives/948/</a></p>
<p>由于java的CAS同时具有 volatile 读和volatile写的内存语义，因此Java线程之间的通信现在有了下面四种方式：</p>
<ul>
<li>A线程写volatile变量，随后B线程读这个volatile变量。</li>
<li>A线程写volatile变量，随后B线程用CAS更新这个volatile变量。</li>
<li>A线程用CAS更新一个volatile变量，随后B线程用CAS更新这个volatile变量。</li>
<li>A线程用CAS更新一个volatile变量，随后B线程读这个volatile变量。</li>
</ul>
<p>Java的CAS会使用现代处理器上提供的高效机器级别原子指令，这些原子指令以原子方式对内存执行读-改-写操作，这是在多处理器中实现同步的关键（从本质上来说，能够支持原子性读-改-写指令的计算机器，是顺序计算图灵机的异步等价机器，因此任何现代的多处理器都会去支持某种能对内存执行原子性读-改-写操作的原子指令）。同时，volatile变量的读/写和CAS可以实现线程之间的通信。把这些特性整合在一起，就形成了整个concurrent包得以实现的基石。如果我们仔细分析concurrent包的源代码实现，会发现一个通用化的实现模式：</p>
<p>首先，声明共享变量为volatile；<br>然后，使用CAS的原子条件更新来实现线程之间的同步；</p>
<p>同时，配合以volatile的读/写和CAS所具有的volatile读和写的内存语义来实现线程之间的通信。</p>
<p>AQS，非阻塞数据结构和原子变量类（Java.util.concurrent.atomic包中的类），这些concurrent包中的基础类都是使用这种模式来实现的，而concurrent包中的高层类又是依赖于这些基础类来实现的。从整体来看，concurrent包的实现示意图如下：</p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000013813745" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/squares.svg" style="cursor: pointer;"></span></p>
<p>AQS没有锁之类的概念，它有个state变量，是个int类型，在不同场合有着不同含义。</p>
<p>AQS围绕state提供两种基本操作“获取”和“释放”，有条双向队列存放阻塞的等待线程，并提供一系列判断和处理方法，简单说几点：</p>
<ul>
<li>state是独占的，还是共享的；</li>
<li>state被获取后，其他线程需要等待；</li>
<li>state被释放后，唤醒等待线程；</li>
<li>线程等不及时，如何退出等待。</li>
</ul>
<p>至于线程是否可以获得state，如何释放state，就不是AQS关心的了，要由子类具体实现。</p>
<p><strong>AQS中还有一个表示状态的字段state，例如ReentrantLocky用它表示线程重入锁的次数，Semaphore用它表示剩余的许可数量，FutureTask用它表示任务的状态。对state变量值的更新都采用CAS操作保证更新操作的原子性</strong>。</p>
<p>AbstractQueuedSynchronizer继承了AbstractOwnableSynchronizer，这个类只有一个变量：exclusiveOwnerThread，表示当前占用该锁的线程，并且提供了相应的get，set方法。</p>
<p>ReentrantLock实现原理</p>
<p><a href="https://www.cnblogs.com/maypattis/p/6403682.html" target="_blank">https://www.cnblogs.com/maypattis/p/6403682.html</a></p>
<h1 id="articleHeader29">什么是原子操作？在Java Concurrency API中有哪些原子类(atomic classes)？</h1>
<p>原子操作是指一个不受其他操作影响的操作任务单元。原子操作是在多线程环境下避免数据不一致必须的手段。</p>
<p>int++并不是一个原子操作，所以当一个线程读取它的值并加1时，另外一个线程有可能会读到之前的值，这就会引发错误。</p>
<p>为了解决这个问题，必须保证增加操作是原子的，在JDK1.5之前我们可以使用同步技术来做到这一点。</p>
<p>到JDK1.5，java.util.concurrent.atomic包提供了int和long类型的装类，它们可以自动的保证对于他们的操作是原子的并且不需要使用同步。<br>　　</p>
<h1 id="articleHeader30">什么是Executors框架？</h1>
<p>Executor框架同java.util.concurrent.Executor 接口在Java 5中被引入。</p>
<p>Executor框架是一个根据一组执行策略调用，调度，执行和控制的异步任务的框架。</p>
<p>无限制的创建线程会引起应用程序内存溢出。所以创建一个线程池是个更好的的解决方案，因为可以限制线程的数量并且可以回收再利用这些线程。</p>
<p>利用Executors框架可以非常方便的创建一个线程池，</p>
<p>Java通过Executors提供四种线程池，分别为：</p>
<p><strong>newCachedThreadPool</strong>创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</p>
<p><strong>newFixedThreadPool</strong> 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</p>
<p><strong>newScheduledThreadPool</strong> 创建一个定长线程池，支持定时及周期性任务执行。</p>
<p><strong>newSingleThreadExecutor</strong> 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。<br>　　</p>
<h1 id="articleHeader31">什么是阻塞队列？如何使用阻塞队列来实现生产者-消费者模型？</h1>
<p>JDK7提供了7个阻塞队列。（也属于并发容器）</p>
<ol>
<li>ArrayBlockingQueue ：一个由数组结构组成的有界阻塞队列。</li>
<li>LinkedBlockingQueue ：一个由链表结构组成的有界阻塞队列。</li>
<li>PriorityBlockingQueue ：一个支持优先级排序的无界阻塞队列。</li>
<li>DelayQueue：一个使用优先级队列实现的无界阻塞队列。</li>
<li>SynchronousQueue：一个不存储元素的阻塞队列。</li>
<li>LinkedTransferQueue：一个由链表结构组成的无界阻塞队列。</li>
<li>LinkedBlockingDeque：一个由链表结构组成的双向阻塞队列。</li>
</ol>
<h3 id="articleHeader32">什么是阻塞队列？</h3>
<p>阻塞队列是一个在队列基础上又支持了两个附加操作的队列。</p>
<p>2个附加操作：</p>
<p>支持阻塞的<strong>插入</strong>方法：队列满时，队列会阻塞插入元素的线程，直到队列不满。<br>支持阻塞的<strong>移除</strong>方法：队列空时，获取元素的线程会等待队列变为非空。</p>
<h3 id="articleHeader33">阻塞队列的应用场景</h3>
<p>阻塞队列常用于生产者和消费者的场景，生产者是向队列里添加元素的线程，消费者是从队列里取元素的线程。简而言之，阻塞队列是生产者用来存放元素、消费者获取元素的容器。</p>
<h3 id="articleHeader34">几个方法</h3>
<p>在阻塞队列不可用的时候，上述2个附加操作提供了四种处理方法</p>
<table>
<thead><tr>
<th>方法处理方式</th>
<th>抛出异常</th>
<th>返回特殊值</th>
<th>一直阻塞</th>
<th>超时退出</th>
</tr></thead>
<tbody>
<tr>
<td>插入方法</td>
<td>add(e)</td>
<td>offer(e)</td>
<td>put(e)</td>
<td>offer(e,time,unit)</td>
</tr>
<tr>
<td>移除方法</td>
<td>remove()</td>
<td>poll()</td>
<td>take()</td>
<td>poll(time,unit)</td>
</tr>
<tr>
<td>检查方法</td>
<td>element()</td>
<td>peek()</td>
<td>不可用</td>
<td>不可用</td>
</tr>
</tbody>
</table>
<h3 id="articleHeader35">JAVA里的阻塞队列</h3>
<p>JDK 7 提供了7个阻塞队列，如下</p>
<p>1、<strong>ArrayBlockingQueue</strong> 数组结构组成的有界阻塞队列。</p>
<p>此队列按照先进先出（FIFO）的原则对元素进行排序，但是默认情况下不保证线程公平的访问队列，即如果队列满了，那么被阻塞在外面的线程对队列访问的顺序是不能保证线程公平（即先阻塞，先插入）的。</p>
<p>2、<strong>LinkedBlockingQueue</strong>一个由链表结构组成的有界阻塞队列</p>
<p>此队列按照先出先进的原则对元素进行排序</p>
<p>3、<strong>PriorityBlockingQueue</strong>支持优先级的无界阻塞队列</p>
<p>4、<strong>DelayQueue</strong>支持延时获取元素的无界阻塞队列，即可以指定多久才能从队列中获取当前元素</p>
<p>5、<strong>SynchronousQueue</strong>不存储元素的阻塞队列，每一个put必须等待一个take操作，否则不能继续添加元素。并且他支持公平访问队列。</p>
<p>6、<strong>LinkedTransferQueue</strong>由链表结构组成的无界阻塞TransferQueue队列。相对于其他阻塞队列，多了tryTransfer和transfer方法</p>
<p><strong>transfer方法</strong></p>
<p>如果当前有消费者正在等待接收元素（take或者待时间限制的poll方法），transfer可以把生产者传入的元素立刻传给消费者。如果没有消费者等待接收元素，则将元素放在队列的tail节点，并等到该元素被消费者消费了才返回。</p>
<p><strong>tryTransfer方法</strong></p>
<p>用来试探生产者传入的元素能否直接传给消费者。，如果没有消费者在等待，则返回false。和上述方法的区别是该方法无论消费者是否接收，方法立即返回。而transfer方法是必须等到消费者消费了才返回。</p>
<p>7、<strong>LinkedBlockingDeque</strong>链表结构的双向阻塞队列，优势在于多线程入队时，减少一半的竞争。</p>
<h2 id="articleHeader36">如何使用阻塞队列来实现生产者-消费者模型？</h2>
<p>通知模式实现：所谓通知模式，就是当生产者往满的队列里添加元素时会阻塞住生产者，当消费者消费了一个队列中的元素后，会通知生产者当前队列可用。</p>
<h2 id="articleHeader37">使用BlockingQueue解决生产者消费者问题</h2>
<p><strong>为什么BlockingQueue适合解决生产者消费者问题</strong></p>
<p>任何有效的生产者-消费者问题解决方案都是通过控制生产者put()方法（生产资源）和消费者take()方法（消费资源）的调用来实现的，一旦你实现了对方法的阻塞控制，那么你将解决该问题。</p>
<p>Java通过BlockingQueue提供了开箱即用的支持来控制这些方法的调用（一个线程创建资源，另一个消费资源）。java.util.concurrent包下的BlockingQueue接口是一个线程安全的可用于存取对象的队列。</p>
<p><strong>BlockingQueue是一种数据结构，支持一个线程往里存资源，另一个线程从里取资源。这正是解决生产者消费者问题所需要的，那么让我们开始解决该问题吧。</strong></p>
<p><strong>生产者</strong></p>
<p>以下代码用于生产者线程</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package io.ymq.example.thread;

import java.util.concurrent.BlockingQueue;

/**
 * 描述:生产者
 *
 * @author yanpenglei
 * @create 2018-03-14 15:52
 **/
class Producer implements Runnable {

    protected BlockingQueue&lt;Object&gt; queue;

    Producer(BlockingQueue&lt;Object&gt; theQueue) {
        this.queue = theQueue;
    }

    public void run() {
        try {
            while (true) {
                Object justProduced = getResource();
                queue.put(justProduced);
                System.out.println(&quot;生产者资源队列大小= &quot; + queue.size());
            }
        } catch (InterruptedException ex) {
            System.out.println(&quot;生产者 中断&quot;);
        }
    }

    Object getResource() {
        try {
            Thread.sleep(100);
        } catch (InterruptedException ex) {
            System.out.println(&quot;生产者 读 中断&quot;);
        }
        return new Object();
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">package</span> io.ymq.example.thread;

<span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;

<span class="hljs-comment">/**
 * 描述:生产者
 *
 * <span class="hljs-doctag">@author</span> yanpenglei
 * <span class="hljs-doctag">@create</span> 2018-03-14 15:52
 **/</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Producer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>{

    <span class="hljs-keyword">protected</span> BlockingQueue&lt;Object&gt; queue;

    Producer(BlockingQueue&lt;Object&gt; theQueue) {
        <span class="hljs-keyword">this</span>.queue = theQueue;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
                Object justProduced = getResource();
                queue.put(justProduced);
                System.out.println(<span class="hljs-string">"生产者资源队列大小= "</span> + queue.size());
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException ex) {
            System.out.println(<span class="hljs-string">"生产者 中断"</span>);
        }
    }

    <span class="hljs-function">Object <span class="hljs-title">getResource</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">100</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException ex) {
            System.out.println(<span class="hljs-string">"生产者 读 中断"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Object();
    }
}</code></pre>
<p><strong>消费者</strong></p>
<p>以下代码用于消费者线程</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package io.ymq.example.thread;

import java.util.concurrent.BlockingQueue;

/**
 * 描述: 消费者
 *
 * @author yanpenglei
 * @create 2018-03-14 15:54
 **/
class Consumer implements Runnable {
    protected BlockingQueue&lt;Object&gt; queue;

    Consumer(BlockingQueue&lt;Object&gt; theQueue) {
        this.queue = theQueue;
    }

    public void run() {
        try {
            while (true) {
                Object obj = queue.take();
                System.out.println(&quot;消费者 资源 队列大小 &quot; + queue.size());
                take(obj);
            }
        } catch (InterruptedException ex) {
            System.out.println(&quot;消费者 中断&quot;);
        }
    }

    void take(Object obj) {
        try {
            Thread.sleep(100); // simulate time passing
        } catch (InterruptedException ex) {
            System.out.println(&quot;消费者 读 中断&quot;);
        }
        System.out.println(&quot;消费对象 &quot; + obj);
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">package</span> io.ymq.example.thread;

<span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;

<span class="hljs-comment">/**
 * 描述: 消费者
 *
 * <span class="hljs-doctag">@author</span> yanpenglei
 * <span class="hljs-doctag">@create</span> 2018-03-14 15:54
 **/</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Consumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>{
    <span class="hljs-keyword">protected</span> BlockingQueue&lt;Object&gt; queue;

    Consumer(BlockingQueue&lt;Object&gt; theQueue) {
        <span class="hljs-keyword">this</span>.queue = theQueue;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
                Object obj = queue.take();
                System.out.println(<span class="hljs-string">"消费者 资源 队列大小 "</span> + queue.size());
                take(obj);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException ex) {
            System.out.println(<span class="hljs-string">"消费者 中断"</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">take</span><span class="hljs-params">(Object obj)</span> </span>{
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// simulate time passing</span>
        } <span class="hljs-keyword">catch</span> (InterruptedException ex) {
            System.out.println(<span class="hljs-string">"消费者 读 中断"</span>);
        }
        System.out.println(<span class="hljs-string">"消费对象 "</span> + obj);
    }
}</code></pre>
<p><strong>测试该解决方案是否运行正常</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package io.ymq.example.thread;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

/**
 * 描述: 测试
 *
 * @author yanpenglei
 * @create 2018-03-14 15:58
 **/
public class ProducerConsumerExample {

    public static void main(String[] args) throws InterruptedException {

        int numProducers = 4;
        int numConsumers = 3;

        BlockingQueue&lt;Object&gt; myQueue = new LinkedBlockingQueue&lt;Object&gt;(5);

        for (int i = 0; i &lt; numProducers; i++) {
            new Thread(new Producer(myQueue)).start();
        }

        for (int i = 0; i &lt; numConsumers; i++) {
            new Thread(new Consumer(myQueue)).start();
        }

        Thread.sleep(1000);

        System.exit(0);
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">package</span> io.ymq.example.thread;
<span class="hljs-keyword">import</span> java.util.concurrent.BlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.LinkedBlockingQueue;

<span class="hljs-comment">/**
 * 描述: 测试
 *
 * <span class="hljs-doctag">@author</span> yanpenglei
 * <span class="hljs-doctag">@create</span> 2018-03-14 15:58
 **/</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProducerConsumerExample</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>{

        <span class="hljs-keyword">int</span> numProducers = <span class="hljs-number">4</span>;
        <span class="hljs-keyword">int</span> numConsumers = <span class="hljs-number">3</span>;

        BlockingQueue&lt;Object&gt; myQueue = <span class="hljs-keyword">new</span> LinkedBlockingQueue&lt;Object&gt;(<span class="hljs-number">5</span>);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numProducers; i++) {
            <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Producer(myQueue)).start();
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numConsumers; i++) {
            <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Consumer(myQueue)).start();
        }

        Thread.sleep(<span class="hljs-number">1000</span>);

        System.exit(<span class="hljs-number">0</span>);
    }
}</code></pre>
<p><strong>运行结果</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="生产者资源队列大小= 1
生产者资源队列大小= 1
消费者 资源 队列大小 1
生产者资源队列大小= 1
消费者 资源 队列大小 1
消费者 资源 队列大小 1
生产者资源队列大小= 1
生产者资源队列大小= 3
消费对象 java.lang.Object@1e1aa52b
生产者资源队列大小= 2
生产者资源队列大小= 5
消费对象 java.lang.Object@6e740a76
消费对象 java.lang.Object@697853f6

......

消费对象 java.lang.Object@41a10cbc
消费对象 java.lang.Object@4963c8d1
消费者 资源 队列大小 5
生产者资源队列大小= 5
生产者资源队列大小= 5
消费者 资源 队列大小 4
消费对象 java.lang.Object@3e49c35d
消费者 资源 队列大小 4
生产者资源队列大小= 5" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs lsl"><code class="sh">生产者资源队列大小= <span class="hljs-number">1</span>
生产者资源队列大小= <span class="hljs-number">1</span>
消费者 资源 队列大小 <span class="hljs-number">1</span>
生产者资源队列大小= <span class="hljs-number">1</span>
消费者 资源 队列大小 <span class="hljs-number">1</span>
消费者 资源 队列大小 <span class="hljs-number">1</span>
生产者资源队列大小= <span class="hljs-number">1</span>
生产者资源队列大小= <span class="hljs-number">3</span>
消费对象 java.lang.Object@<span class="hljs-number">1e1</span>aa52b
生产者资源队列大小= <span class="hljs-number">2</span>
生产者资源队列大小= <span class="hljs-number">5</span>
消费对象 java.lang.Object@<span class="hljs-number">6e740</span>a76
消费对象 java.lang.Object@<span class="hljs-number">697853</span>f6

......

消费对象 java.lang.Object@<span class="hljs-number">41</span>a10cbc
消费对象 java.lang.Object@<span class="hljs-number">4963</span>c8d1
消费者 资源 队列大小 <span class="hljs-number">5</span>
生产者资源队列大小= <span class="hljs-number">5</span>
生产者资源队列大小= <span class="hljs-number">5</span>
消费者 资源 队列大小 <span class="hljs-number">4</span>
消费对象 java.lang.Object@<span class="hljs-number">3e49</span>c35d
消费者 资源 队列大小 <span class="hljs-number">4</span>
生产者资源队列大小= <span class="hljs-number">5</span></code></pre>
<p><strong>从输出结果中,我们可以发现队列大小永远不会超过5，消费者线程消费了生产者生产的资源</strong>。</p>
<h1 id="articleHeader38">什么是Callable和Future?</h1>
<p><strong>Callable 和 Future 是比较有趣的一对组合。当我们需要获取线程的执行结果时，就需要用到它们。Callable用于产生结果，Future用于获取结果</strong>。</p>
<p><strong>Callable接口使用泛型去定义它的返回类型</strong>。Executors类提供了一些有用的方法去在线程池中执行Callable内的任务。由于Callable任务是并行的，必须等待它返回的结果。java.util.concurrent.Future对象解决了这个问题。</p>
<p><strong>在线程池提交Callable任务后返回了一个Future对象</strong>，使用它可以知道Callable任务的状态和得到Callable返回的执行结果。Future提供了get()方法，等待Callable结束并获取它的执行结果。</p>
<p><strong>代码示例</strong></p>
<p><strong>Callable 是一个接口，它只包含一个call()方法。Callable是一个返回结果并且可能抛出异常的任务</strong>。</p>
<p><strong>为了便于理解，我们可以将Callable比作一个Runnable接口，而Callable的call()方法则类似于Runnable的run()方法</strong>。</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public class CallableFutureTest {

    public static void main(String[] args) throws InterruptedException, ExecutionException {

        System.out.println(&quot;start main thread &quot;);

        ExecutorService exec = Executors.newFixedThreadPool(2);

        //新建一个Callable 任务，并将其提交到一个ExecutorService. 将返回一个描述任务情况的Future.
        Callable&lt;String&gt; call = new Callable&lt;String&gt;() {

            @Override
            public String call() throws Exception {
                System.out.println(&quot;start new thread &quot;);
                Thread.sleep(5000);
                System.out.println(&quot;end new thread &quot;);
                return &quot;我是返回的内容&quot;;
            }
        };

        Future&lt;String&gt; task = exec.submit(call);
        Thread.sleep(1000);
        String retn = task.get();
        //关闭线程池
        exec.shutdown();
        System.out.println(retn + &quot;--end main thread&quot;);
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs arduino"><code class="sh"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> CallableFutureTest {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) throws InterruptedException, ExecutionException {

        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"start main thread "</span>);

        ExecutorService exec = Executors.newFixedThreadPool(<span class="hljs-number">2</span>);

        <span class="hljs-comment">//新建一个Callable 任务，并将其提交到一个ExecutorService. 将返回一个描述任务情况的Future.</span>
        Callable&lt;<span class="hljs-keyword">String</span>&gt; call = <span class="hljs-keyword">new</span> Callable&lt;<span class="hljs-keyword">String</span>&gt;() {

            @Override
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> call() throws Exception {
                System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"start new thread "</span>);
                Thread.sleep(<span class="hljs-number">5000</span>);
                System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"end new thread "</span>);
                <span class="hljs-built_in">return</span> <span class="hljs-string">"我是返回的内容"</span>;
            }
        };

        Future&lt;<span class="hljs-keyword">String</span>&gt; task = exec.submit(call);
        Thread.sleep(<span class="hljs-number">1000</span>);
        <span class="hljs-keyword">String</span> retn = task.<span class="hljs-built_in">get</span>();
        <span class="hljs-comment">//关闭线程池</span>
        exec.<span class="hljs-built_in">shutdown</span>();
        System.out.<span class="hljs-built_in">println</span>(retn + <span class="hljs-string">"--end main thread"</span>);
    }
}</code></pre>
<p>控制台打印</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="start main thread 
start new thread 
end new thread 
我是返回的内容--end main thread" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs sql"><code><span class="hljs-keyword">start</span> <span class="hljs-keyword">main</span> <span class="hljs-keyword">thread</span> 
<span class="hljs-keyword">start</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">thread</span> 
<span class="hljs-keyword">end</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">thread</span> 
我是返回的内容<span class="hljs-comment">--end main thread</span></code></pre>
<h1 id="articleHeader39">什么是FutureTask?</h1>
<p>FutureTask可用于异步获取执行结果或取消执行任务的场景。通过传入Runnable或者Callable的任务给FutureTask，直接调用其run方法或者放入线程池执行，之后可以在外部通过FutureTask的get方法异步获取执行结果，因此，FutureTask非常适合用于耗时的计算，主线程可以在完成自己的任务后，再去获取结果。另外，FutureTask还可以确保即使调用了多次run方法，它都只会执行一次Runnable或者Callable任务，或者通过cancel取消FutureTask的执行等。</p>
<h2 id="articleHeader40">1.执行多任务计算</h2>
<p>FutureTask执行多任务计算的使用场景</p>
<p>利用FutureTask和ExecutorService，可以用多线程的方式提交计算任务，主线程继续执行其他任务，当主线程需要子线程的计算结果时，在异步获取子线程的执行结果。</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.*;

public class FutureTaskForMultiCompute {

    public static void main(String[] args) {

        FutureTaskForMultiCompute inst = new FutureTaskForMultiCompute();
        // 创建任务集合
        List&lt;FutureTask&lt;Integer&gt;&gt; taskList = new ArrayList&lt;FutureTask&lt;Integer&gt;&gt;();
        // 创建线程池
        ExecutorService exec = Executors.newFixedThreadPool(5);
        for (int i = 0; i &lt; 10; i++) {
            // 传入Callable对象创建FutureTask对象
            FutureTask&lt;Integer&gt; ft = new FutureTask&lt;Integer&gt;(inst.new ComputeTask(i, &quot;&quot; + i));
            taskList.add(ft);
            // 提交给线程池执行任务，也可以通过exec.invokeAll(taskList)一次性提交所有任务;
            exec.submit(ft);
        }

        System.out.println(&quot;所有计算任务提交完毕, 主线程接着干其他事情！&quot;);

        // 开始统计各计算线程计算结果
        Integer totalResult = 0;
        for (FutureTask&lt;Integer&gt; ft : taskList) {
            try {
                //FutureTask的get方法会自动阻塞,直到获取计算结果为止
                totalResult = totalResult + ft.get();
            } catch (InterruptedException e) {
                e.printStackTrace();
            } catch (ExecutionException e) {
                e.printStackTrace();
            }
        }

        // 关闭线程池
        exec.shutdown();
        System.out.println(&quot;多任务计算后的总结果是:&quot; + totalResult);

    }

    private class ComputeTask implements Callable&lt;Integer&gt; {

        private Integer result = 0;
        private String taskName = &quot;&quot;;

        public ComputeTask(Integer iniResult, String taskName) {
            result = iniResult;
            this.taskName = taskName;
            System.out.println(&quot;生成子线程计算任务: &quot; + taskName);
        }

        public String getTaskName() {
            return this.taskName;
        }

        @Override
        public Integer call() throws Exception {
            // TODO Auto-generated method stub

            for (int i = 0; i &lt; 100; i++) {
                result = +i;
            }
            // 休眠5秒钟，观察主线程行为，预期的结果是主线程会继续执行，到要取得FutureTask的结果是等待直至完成。
            Thread.sleep(5000);
            System.out.println(&quot;子线程计算任务: &quot; + taskName + &quot; 执行完成!&quot;);
            return result;
        }
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.concurrent.*;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FutureTaskForMultiCompute</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{

        FutureTaskForMultiCompute inst = <span class="hljs-keyword">new</span> FutureTaskForMultiCompute();
        <span class="hljs-comment">// 创建任务集合</span>
        List&lt;FutureTask&lt;Integer&gt;&gt; taskList = <span class="hljs-keyword">new</span> ArrayList&lt;FutureTask&lt;Integer&gt;&gt;();
        <span class="hljs-comment">// 创建线程池</span>
        ExecutorService exec = Executors.newFixedThreadPool(<span class="hljs-number">5</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            <span class="hljs-comment">// 传入Callable对象创建FutureTask对象</span>
            FutureTask&lt;Integer&gt; ft = <span class="hljs-keyword">new</span> FutureTask&lt;Integer&gt;(inst.new ComputeTask(i, <span class="hljs-string">""</span> + i));
            taskList.add(ft);
            <span class="hljs-comment">// 提交给线程池执行任务，也可以通过exec.invokeAll(taskList)一次性提交所有任务;</span>
            exec.submit(ft);
        }

        System.out.println(<span class="hljs-string">"所有计算任务提交完毕, 主线程接着干其他事情！"</span>);

        <span class="hljs-comment">// 开始统计各计算线程计算结果</span>
        Integer totalResult = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (FutureTask&lt;Integer&gt; ft : taskList) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">//FutureTask的get方法会自动阻塞,直到获取计算结果为止</span>
                totalResult = totalResult + ft.get();
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            } <span class="hljs-keyword">catch</span> (ExecutionException e) {
                e.printStackTrace();
            }
        }

        <span class="hljs-comment">// 关闭线程池</span>
        exec.shutdown();
        System.out.println(<span class="hljs-string">"多任务计算后的总结果是:"</span> + totalResult);

    }

    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComputeTask</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Callable</span>&lt;<span class="hljs-title">Integer</span>&gt; </span>{

        <span class="hljs-keyword">private</span> Integer result = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">private</span> String taskName = <span class="hljs-string">""</span>;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ComputeTask</span><span class="hljs-params">(Integer iniResult, String taskName)</span> </span>{
            result = iniResult;
            <span class="hljs-keyword">this</span>.taskName = taskName;
            System.out.println(<span class="hljs-string">"生成子线程计算任务: "</span> + taskName);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getTaskName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.taskName;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
            <span class="hljs-comment">// TODO Auto-generated method stub</span>

            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
                result = +i;
            }
            <span class="hljs-comment">// 休眠5秒钟，观察主线程行为，预期的结果是主线程会继续执行，到要取得FutureTask的结果是等待直至完成。</span>
            Thread.sleep(<span class="hljs-number">5000</span>);
            System.out.println(<span class="hljs-string">"子线程计算任务: "</span> + taskName + <span class="hljs-string">" 执行完成!"</span>);
            <span class="hljs-keyword">return</span> result;
        }
    }
}</code></pre>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="生成子线程计算任务: 0
生成子线程计算任务: 1
生成子线程计算任务: 2
生成子线程计算任务: 3
生成子线程计算任务: 4
生成子线程计算任务: 5
生成子线程计算任务: 6
生成子线程计算任务: 7
生成子线程计算任务: 8
生成子线程计算任务: 9
所有计算任务提交完毕, 主线程接着干其他事情！
子线程计算任务: 0 执行完成!
子线程计算任务: 2 执行完成!
子线程计算任务: 3 执行完成!
子线程计算任务: 4 执行完成!
子线程计算任务: 1 执行完成!
子线程计算任务: 8 执行完成!
子线程计算任务: 7 执行完成!
子线程计算任务: 6 执行完成!
子线程计算任务: 9 执行完成!
子线程计算任务: 5 执行完成!
多任务计算后的总结果是:990" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs erlang-repl"><code>生成子线程计算任务: <span class="hljs-number">0</span>
生成子线程计算任务: <span class="hljs-number">1</span>
生成子线程计算任务: <span class="hljs-number">2</span>
生成子线程计算任务: <span class="hljs-number">3</span>
生成子线程计算任务: <span class="hljs-number">4</span>
生成子线程计算任务: <span class="hljs-number">5</span>
生成子线程计算任务: <span class="hljs-number">6</span>
生成子线程计算任务: <span class="hljs-number">7</span>
生成子线程计算任务: <span class="hljs-number">8</span>
生成子线程计算任务: <span class="hljs-number">9</span>
所有计算任务提交完毕, 主线程接着干其他事情！
子线程计算任务: <span class="hljs-number">0</span> 执行完成!
子线程计算任务: <span class="hljs-number">2</span> 执行完成!
子线程计算任务: <span class="hljs-number">3</span> 执行完成!
子线程计算任务: <span class="hljs-number">4</span> 执行完成!
子线程计算任务: <span class="hljs-number">1</span> 执行完成!
子线程计算任务: <span class="hljs-number">8</span> 执行完成!
子线程计算任务: <span class="hljs-number">7</span> 执行完成!
子线程计算任务: <span class="hljs-number">6</span> 执行完成!
子线程计算任务: <span class="hljs-number">9</span> 执行完成!
子线程计算任务: <span class="hljs-number">5</span> 执行完成!
多任务计算后的总结果是:<span class="hljs-number">990</span></code></pre>
<h2 id="articleHeader41">2.高并发环境下</h2>
<p>FutureTask在高并发环境下确保任务只执行一次</p>
<p>在很多高并发的环境下，往往我们只需要某些任务只执行一次。这种使用情景FutureTask的特性恰能胜任。举一个例子，假设有一个带key的连接池，当key存在时，即直接返回key对应的对象；当key不存在时，则创建连接。对于这样的应用场景，通常采用的方法为使用一个Map对象来存储key和连接池对应的对应关系，典型的代码如下面所示：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="  private Map&lt;String, Connection&gt; connectionPool = new HashMap&lt;String, Connection&gt;();
    private ReentrantLock lock = new ReentrantLock();

    public Connection getConnection(String key) {
        try {
            lock.lock();
            if (connectionPool.containsKey(key)) {
                return connectionPool.get(key);
            } else {
                //创建 Connection  
                Connection conn = createConnection();
                connectionPool.put(key, conn);
                return conn;
            }
        } finally {
            lock.unlock();
        }
    }

    //创建Connection  
    private Connection createConnection() {
        return null;
    }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java">  <span class="hljs-keyword">private</span> Map&lt;String, Connection&gt; connectionPool = <span class="hljs-keyword">new</span> HashMap&lt;String, Connection&gt;();
    <span class="hljs-keyword">private</span> ReentrantLock lock = <span class="hljs-keyword">new</span> ReentrantLock();

    <span class="hljs-function"><span class="hljs-keyword">public</span> Connection <span class="hljs-title">getConnection</span><span class="hljs-params">(String key)</span> </span>{
        <span class="hljs-keyword">try</span> {
            lock.lock();
            <span class="hljs-keyword">if</span> (connectionPool.containsKey(key)) {
                <span class="hljs-keyword">return</span> connectionPool.get(key);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//创建 Connection  </span>
                Connection conn = createConnection();
                connectionPool.put(key, conn);
                <span class="hljs-keyword">return</span> conn;
            }
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }

    <span class="hljs-comment">//创建Connection  </span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Connection <span class="hljs-title">createConnection</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }
</code></pre>
<p>在上面的例子中，我们通过加锁确保高并发环境下的线程安全，也确保了connection只创建一次，然而确牺牲了性能。改用ConcurrentHash的情况下，几乎可以避免加锁的操作，性能大大提高，但是在高并发的情况下有可能出现Connection被创建多次的现象。这时最需要解决的问题就是当key不存在时，创建Connection的动作能放在connectionPool之后执行，这正是FutureTask发挥作用的时机，基于ConcurrentHashMap和FutureTask的改造代码如下：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="  private ConcurrentHashMap&lt;String, FutureTask&lt;Connection&gt;&gt; connectionPool = new ConcurrentHashMap&lt;String, FutureTask&lt;Connection&gt;&gt;();

    public Connection getConnection(String key) throws Exception {
        FutureTask&lt;Connection&gt; connectionTask = connectionPool.get(key);
        if (connectionTask != null) {
            return connectionTask.get();
        } else {
            Callable&lt;Connection&gt; callable = new Callable&lt;Connection&gt;() {
                @Override
                public Connection call() throws Exception {
                    // TODO Auto-generated method stub  
                    return createConnection();
                }
            };
            FutureTask&lt;Connection&gt; newTask = new FutureTask&lt;Connection&gt;(callable);
            connectionTask = connectionPool.putIfAbsent(key, newTask);
            if (connectionTask == null) {
                connectionTask = newTask;
                connectionTask.run();
            }
            return connectionTask.get();
        }
    }

    //创建Connection  
    private Connection createConnection() {
        return null;
    }" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java">  <span class="hljs-keyword">private</span> ConcurrentHashMap&lt;String, FutureTask&lt;Connection&gt;&gt; connectionPool = <span class="hljs-keyword">new</span> ConcurrentHashMap&lt;String, FutureTask&lt;Connection&gt;&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> Connection <span class="hljs-title">getConnection</span><span class="hljs-params">(String key)</span> <span class="hljs-keyword">throws</span> Exception </span>{
        FutureTask&lt;Connection&gt; connectionTask = connectionPool.get(key);
        <span class="hljs-keyword">if</span> (connectionTask != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> connectionTask.get();
        } <span class="hljs-keyword">else</span> {
            Callable&lt;Connection&gt; callable = <span class="hljs-keyword">new</span> Callable&lt;Connection&gt;() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-function"><span class="hljs-keyword">public</span> Connection <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
                    <span class="hljs-comment">// TODO Auto-generated method stub  </span>
                    <span class="hljs-keyword">return</span> createConnection();
                }
            };
            FutureTask&lt;Connection&gt; newTask = <span class="hljs-keyword">new</span> FutureTask&lt;Connection&gt;(callable);
            connectionTask = connectionPool.putIfAbsent(key, newTask);
            <span class="hljs-keyword">if</span> (connectionTask == <span class="hljs-keyword">null</span>) {
                connectionTask = newTask;
                connectionTask.run();
            }
            <span class="hljs-keyword">return</span> connectionTask.get();
        }
    }

    <span class="hljs-comment">//创建Connection  </span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Connection <span class="hljs-title">createConnection</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }</code></pre>
<p><strong>经过这样的改造，可以避免由于并发带来的多次创建连接及锁的出现。</strong></p>
<h1 id="articleHeader42">什么是同步容器和并发容器的实现？</h1>
<h3 id="articleHeader43">一、同步容器</h3>
<p>主要代表有Vector和Hashtable，以及Collections.synchronizedXxx等。<br>锁的粒度为当前对象整体。<br>迭代器是及时失败的，即在迭代的过程中发现被修改，就会抛出ConcurrentModificationException。</p>
<h3 id="articleHeader44">二、并发容器</h3>
<p>主要代表有ConcurrentHashMap、CopyOnWriteArrayList、ConcurrentSkipListMap、ConcurrentSkipListSet。<br>锁的粒度是分散的、细粒度的，即读和写是使用不同的锁。<br>迭代器具有弱一致性，即可以容忍并发修改，不会抛出ConcurrentModificationException。</p>
<p><strong>JDK 7 ConcurrentHashMap</strong></p>
<p>采用分离锁技术，同步容器中，是一个容器一个锁，但在ConcurrentHashMap中，会将hash表的数组部分分成若干段，每段维护一个锁，以达到高效的并发访问；</p>
<p><strong>JDK 8 ConcurrentHashMap</strong></p>
<p>采用分离锁技术，同步容器中，是一个容器一个锁，但在ConcurrentHashMap中，会将hash表的数组部分分成若干段，每段维护一个锁，以达到高效的并发访问；</p>
<h3 id="articleHeader45">三、阻塞队列</h3>
<p>主要代表有LinkedBlockingQueue、ArrayBlockingQueue、PriorityBlockingQueue(Comparable,Comparator)、SynchronousQueue。<br>提供了可阻塞的put和take方法，以及支持定时的offer和poll方法。<br>适用于生产者、消费者模式（线程池和工作队列-Executor），同时也是同步容器</p>
<h3 id="articleHeader46">四、双端队列</h3>
<p>主要代表有ArrayDeque和LinkedBlockingDeque。<br>意义：正如阻塞队列适用于生产者消费者模式，双端队列同样适用与另一种模式，即工作密取。在生产者-消费者设计中，所有消费者共享一个工作队列，而在工作密取中，每个消费者都有各自的双端队列。<br>如果一个消费者完成了自己双端队列中的全部工作，那么他就可以从其他消费者的双端队列末尾秘密的获取工作。具有更好的可伸缩性，这是因为工作者线程不会在单个共享的任务队列上发生竞争。<br>在大多数时候，他们都只是访问自己的双端队列，从而极大的减少了竞争。当工作者线程需要访问另一个队列时，它会从队列的尾部而不是头部获取工作，因此进一步降低了队列上的竞争。<br>适用于：网页爬虫等任务中</p>
<h3 id="articleHeader47">五、比较及适用场景</h3>
<p>如果不需要阻塞队列，优先选择ConcurrentLinkedQueue；<br>如果需要阻塞队列，队列大小固定优先选择ArrayBlockingQueue，队列大小不固定优先选择LinkedBlockingQueue；<br>如果需要对队列进行排序，选择PriorityBlockingQueue；<br>如果需要一个快速交换的队列，选择SynchronousQueue；<br>如果需要对队列中的元素进行延时操作，则选择DelayQueue。</p>
<h1 id="articleHeader48">什么是多线程？优缺点？</h1>
<p><strong>什么是多线程？</strong></p>
<p>多线程：是指从软件或者硬件上实现多个线程的并发技术。</p>
<p><strong>多线程的好处：</strong></p>
<ol>
<li>使用多线程可以把程序中占据时间长的任务放到后台去处理，如图片、视屏的下载</li>
<li>发挥多核处理器的优势，并发执行让系统运行的更快、更流畅，用户体验更好</li>
</ol>
<p><strong>多线程的缺点：</strong></p>
<ol>
<li>大量的线程降低代码的可读性；</li>
<li>更多的线程需要更多的内存空间</li>
<li>当多个线程对同一个资源出现争夺时候要注意线程安全的问题。</li>
</ol>
<h1 id="articleHeader49">什么是多线程的上下文切换？</h1>
<p>即使是单核CPU也支持多线程执行代码，CPU通过给每个线程分配CPU时间片来实现这个机制。时间片是CPU分配给各个线程的时间，因为时间片非常短，所以CPU通过不停地切换线程执行，让我们感觉多个线程时同时执行的，时间片一般是几十毫秒（ms）</p>
<p><strong>上下文切换过程中，CPU会停止处理当前运行的程序，并保存当前程序运行的具体位置以便之后继续运行</strong></p>
<p><strong>CPU通过时间片分配算法来循环执行任务，当前任务执行一个时间片后会切换到下一个任务。但是，在切换前会保存上一个任务的状态，以便下次切换回这个任务时，可以再次加载这个任务的状态</strong></p>
<ul><li><strong>从任务保存到再加载的过程就是一次上下文切换</strong></li></ul>
<h1 id="articleHeader50">ThreadLocal的设计理念与作用？</h1>
<p>Java中的ThreadLocal类允许我们创建只能被同一个线程读写的变量。因此，如果一段代码含有一个ThreadLocal变量的引用，即使两个线程同时执行这段代码，它们也无法访问到对方的ThreadLocal变量</p>
<h3 id="articleHeader51">ThreadLocal</h3>
<p><strong>如何创建ThreadLocal变量</strong></p>
<p>以下代码展示了如何创建一个ThreadLocal变量：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="private ThreadLocal myThreadLocal = new ThreadLocal();" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java" style="word-break: break-word; white-space: initial;"><span class="hljs-keyword">private</span> ThreadLocal myThreadLocal = <span class="hljs-keyword">new</span> ThreadLocal();</code></pre>
<p>通过这段代码实例化了一个ThreadLocal对象。我们只需要实例化对象一次，并且也不需要知道它是被哪个线程实例化。虽然<strong>所有的线程都能访问到这个ThreadLocal实例，但是每个线程却只能访问到自己通过调用ThreadLocal的set()方法设置的值。即使是两个不同的线程在同一个ThreadLocal对象上设置了不同的值，他们仍然无法访问到对方的值</strong>。</p>
<p><strong>如何访问ThreadLocal变量</strong></p>
<p>一旦创建了一个ThreadLocal变量，你可以通过如下代码设置某个需要保存的值：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="myThreadLocal.set(&quot;A thread local value”);" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java" style="word-break: break-word; white-space: initial;">myThreadLocal.set(<span class="hljs-string">"A thread local value”);</span></code></pre>
<p>可以通过下面方法读取保存在ThreadLocal变量中的值：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="String threadLocalValue = (String) myThreadLocal.get();" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java" style="word-break: break-word; white-space: initial;">String threadLocalValue = (String) myThreadLocal.get();</code></pre>
<p>get()方法返回一个Object对象，set()对象需要传入一个Object类型的参数。</p>
<p><strong><em><em>为ThreadLocal指定泛型类型</em></em></strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public static ThreadLocal&lt;String&gt; myThreadLocal = new ThreadLocal&lt;String&gt;();" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java" style="word-break: break-word; white-space: initial;"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;String&gt; myThreadLocal = <span class="hljs-keyword">new</span> ThreadLocal&lt;String&gt;();</code></pre>
<p>我们可以创建一个指定泛型类型的ThreadLocal对象，这样我们就不需要每次对使用get()方法返回的值作强制类型转换了。下面展示了指定泛型类型的ThreadLocal例子：</p>
<p><strong>ThreadLocal的设计理念与作用</strong></p>
<p><a href="http://blog.csdn.net/u011860731/article/details/48733073http" target="_blank">http://blog.csdn.net/u0118607...</a>://blog.csdn.net/u011860731/article/details/48733073)</p>
<h3 id="articleHeader52">InheritableThreadLocal</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public static ThreadLocal&lt;Integer&gt; threadLocal = new InheritableThreadLocal&lt;Integer&gt;();" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java" style="word-break: break-word; white-space: initial;"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;Integer&gt; threadLocal = <span class="hljs-keyword">new</span> InheritableThreadLocal&lt;Integer&gt;();</code></pre>
<p>InheritableThreadLocal类是ThreadLocal类的子类。ThreadLocal中每个线程拥有它自己的值，与ThreadLocal不同的是，<strong>InheritableThreadLocal允许一个线程以及该线程创建的所有子线程都可以访问它保存的值</strong>。</p>
<p><strong>InheritableThreadLocal 原理</strong></p>
<p><strong>Java 多线程：InheritableThreadLocal 实现原理</strong></p>
<p><a href="http://blog.csdn.net/ni357103403/article/details/51970748" target="_blank">http://blog.csdn.net/ni357103403/article/details/51970748</a></p>
<h1 id="articleHeader53">ThreadPool（线程池）用法与优势？</h1>
<h3 id="articleHeader54">为什么要用线程池:</h3>
<ol>
<li>减少了创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务。</li>
<li>可以根据系统的承受能力，调整线程池中工作线线程的数目，防止因为消耗过多的内存，而把服务器累趴下(每个线程需要大约1MB内存，线程开的越多，消耗的内存也就越大，最后死机)。</li>
<li>Java里面线程池的顶级接口是Executor，但是严格意义上讲Executor并不是一个线程池，而只是一个执行线程的工具。真正的线程池接口是ExecutorService。</li>
</ol>
<h3 id="articleHeader55">new Thread 缺点</h3>
<ol>
<li>每次new Thread新建对象性能差。</li>
<li>线程缺乏统一管理，可能无限制新建线程，相互之间竞争，及可能占用过多系统资源导致死机或oom。</li>
<li>缺乏更多功能，如定时执行、定期执行、线程中断。</li>
</ol>
<h3 id="articleHeader56">ThreadPool 优点</h3>
<p>减少了创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务</p>
<p>可以根据系统的承受能力，调整线程池中工作线线程的数目，防止因为因为消耗过多的内存，而把服务器累趴下(每个线程需要大约1MB内存，线程开的越多，消耗的内存也就越大，最后死机)</p>
<ul>
<li>减少在创建和销毁线程上所花的时间以及系统资源的开销</li>
<li>如不使用线程池，有可能造成系统创建大量线程而导致消耗完系统内存</li>
</ul>
<p><strong>Java提供的四种线程池的好处在于</strong>：</p>
<ol>
<li>重用存在的线程，减少对象创建、销毁的开销，提高性能。</li>
<li>可有效控制最大并发线程数，提高系统资源的使用率，同时避免过多资源竞争，避免堵塞。</li>
<li>提供定时执行、定期执行、单线程、并发数控制等功能。</li>
</ol>
<h3 id="articleHeader57">比较重要的几个类：</h3>
<table>
<thead><tr>
<th>类</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td>ExecutorService</td>
<td>真正的线程池接口。</td>
</tr>
<tr>
<td>ScheduledExecutorService</td>
<td>能和Timer/TimerTask类似，解决那些需要任务重复执行的问题。</td>
</tr>
<tr>
<td>ThreadPoolExecutor</td>
<td>ExecutorService的默认实现。</td>
</tr>
<tr>
<td>ScheduledThreadPoolExecutor</td>
<td>继承ThreadPoolExecutor的ScheduledExecutorService接口实现，周期性任务调度的类实现。</td>
</tr>
</tbody>
</table>
<p>要配置一个线程池是比较复杂的，尤其是对于线程池的原理不是很清楚的情况下，很有可能配置的线程池不是较优的，因此在Executors类里面提供了一些静态工厂，生成一些常用的线程池。</p>
<h3 id="articleHeader58">Executors提供四种线程池</h3>
<p><strong>newCachedThreadPool</strong>创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</p>
<p><strong>newFixedThreadPool</strong> 创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</p>
<p><strong>newScheduledThreadPool</strong> 创建一个定长线程池，支持定时及周期性任务执行。</p>
<p><strong>newSingleThreadExecutor</strong> 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序(FIFO, LIFO, 优先级)执行。</p>
<h3 id="articleHeader59">一般都不用Executors提供的线程创建方式</h3>
<p><strong>使用ThreadPoolExecutor创建线程池</strong></p>
<p><strong>ThreadPoolExecutor的构造函数</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public ThreadPoolExecutor(int corePoolSize,
                              int maximumPoolSize,
                              long keepAliveTime,
                              TimeUnit unit,
                              BlockingQueue&lt;Runnable&gt; workQueue,
                              ThreadFactory threadFactory,
                              RejectedExecutionHandler handler) {
        if (corePoolSize &lt; 0 ||
            maximumPoolSize &lt;= 0 ||
            maximumPoolSize &lt; corePoolSize ||
            keepAliveTime &lt; 0)
            throw new IllegalArgumentException();
        if (workQueue == null || threadFactory == null || handler == null)
            throw new NullPointerException();
        this.corePoolSize = corePoolSize;
        this.maximumPoolSize = maximumPoolSize;
        this.workQueue = workQueue;
        this.keepAliveTime = unit.toNanos(keepAliveTime);
        this.threadFactory = threadFactory;
        this.handler = handler;
    }" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadPoolExecutor</span><span class="hljs-params">(<span class="hljs-keyword">int</span> corePoolSize,
                              <span class="hljs-keyword">int</span> maximumPoolSize,
                              <span class="hljs-keyword">long</span> keepAliveTime,
                              TimeUnit unit,
                              BlockingQueue&lt;Runnable&gt; workQueue,
                              ThreadFactory threadFactory,
                              RejectedExecutionHandler handler)</span> </span>{
        <span class="hljs-keyword">if</span> (corePoolSize &lt; <span class="hljs-number">0</span> ||
            maximumPoolSize &lt;= <span class="hljs-number">0</span> ||
            maximumPoolSize &lt; corePoolSize ||
            keepAliveTime &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();
        <span class="hljs-keyword">if</span> (workQueue == <span class="hljs-keyword">null</span> || threadFactory == <span class="hljs-keyword">null</span> || handler == <span class="hljs-keyword">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();
        <span class="hljs-keyword">this</span>.corePoolSize = corePoolSize;
        <span class="hljs-keyword">this</span>.maximumPoolSize = maximumPoolSize;
        <span class="hljs-keyword">this</span>.workQueue = workQueue;
        <span class="hljs-keyword">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);
        <span class="hljs-keyword">this</span>.threadFactory = threadFactory;
        <span class="hljs-keyword">this</span>.handler = handler;
    }</code></pre>
<h3 id="articleHeader60">参数：</h3>
<ol>
<li>
<strong>corePoolSize</strong>核心线程数大小，当线程数&lt;corePoolSize ，会创建线程执行runnable</li>
<li>
<strong>maximumPoolSize</strong> 最大线程数， 当线程数 &gt;= corePoolSize的时候，会把runnable放入workQueue中</li>
<li>
<strong>keepAliveTime</strong>  保持存活时间，当线程数大于corePoolSize的空闲线程能保持的最大时间。</li>
<li>
<strong>unit</strong> 时间单位</li>
<li>
<strong>workQueue</strong> 保存任务的阻塞队列</li>
<li>
<strong>threadFactory</strong> 创建线程的工厂</li>
<li>
<strong>handler</strong> 拒绝策略</li>
</ol>
<h3 id="articleHeader61">任务执行顺序：</h3>
<ol>
<li>当线程数小于corePoolSize时，创建线程执行任务。</li>
<li>当线程数大于等于corePoolSize并且workQueue没有满时，放入workQueue中</li>
<li>线程数大于等于corePoolSize并且当workQueue满时，新任务新建线程运行，线程总数要小于maximumPoolSize</li>
<li>当线程总数等于maximumPoolSize并且workQueue满了的时候执行handler的rejectedExecution。也就是拒绝策略。</li>
</ol>
<h3 id="articleHeader62">ThreadPoolExecutor默认有四个拒绝策略：</h3>
<ol>
<li>
<code>ThreadPoolExecutor.AbortPolicy()</code>   直接抛出异常RejectedExecutionException</li>
<li>
<code>ThreadPoolExecutor.CallerRunsPolicy()</code>    直接调用run方法并且阻塞执行</li>
<li>
<code>ThreadPoolExecutor.DiscardPolicy()</code>   直接丢弃后来的任务</li>
<li>
<code>ThreadPoolExecutor.DiscardOldestPolicy()</code>  丢弃在队列中队首的任务</li>
</ol>
<p>当然可以自己继承 RejectedExecutionHandler 来写拒绝策略.</p>
<h3 id="articleHeader63">java 四种线程池的使用</h3>
<p><a href="https://juejin.im/post/59df0c1af265da432f301c8d" target="_blank">https://juejin.im/post/59df0c1af265da432f301c8d</a></p>
<h1 id="articleHeader64">Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。</h1>
<p><strong>阻塞队列</strong></p>
<p>1、<strong>ArrayBlockingQueue</strong> 数组结构组成的有界阻塞队列。</p>
<p>此队列按照先进先出（FIFO）的原则对元素进行排序，但是默认情况下不保证线程公平的访问队列，即如果队列满了，那么被阻塞在外面的线程对队列访问的顺序是不能保证线程公平（即先阻塞，先插入）的。</p>
<h3 id="articleHeader65">CountDownLatch</h3>
<p>CountDownLatch 允许一个或多个线程等待其他线程完成操作。</p>
<p><strong>应用场景</strong></p>
<p>假如有这样一个需求，当我们需要解析一个Excel里多个sheet的数据时，可以考虑使用多线程，每个线程解析一个sheet里的数据，等到所有的sheet都解析完之后，程序需要提示解析完成。</p>
<p>在这个需求中，要实现主线程等待所有线程完成sheet的解析操作，最简单的做法是使用join。代码如下：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public class JoinCountDownLatchTest {

    public static void main(String[] args) throws InterruptedException {
        Thread parser1 = new Thread(new Runnable() {
            @Override
            public void run() {
            }
        });

        Thread parser2 = new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println(&quot;parser2 finish&quot;);
            }
        });

        parser1.start();
        parser2.start();
        parser1.join();
        parser2.join();
        System.out.println(&quot;all parser finish&quot;);
    }

}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JoinCountDownLatchTest</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>{
        Thread parser1 = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
            }
        });

        Thread parser2 = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> Runnable() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                System.out.println(<span class="hljs-string">"parser2 finish"</span>);
            }
        });

        parser1.start();
        parser2.start();
        parser1.join();
        parser2.join();
        System.out.println(<span class="hljs-string">"all parser finish"</span>);
    }

}</code></pre>
<p>join用于让当前执行线程等待join线程执行结束。其实现原理是不停检查join线程是否存活，如果join线程存活则让当前线程永远wait，代码片段如下，wait(0)表示永远等待下去。</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="while (isAlive()) {
 wait(0);
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">while</span> (isAlive()) {
 wait(<span class="hljs-number">0</span>);
}</code></pre>
<ul>
<li>方法isAlive()功能是判断当前线程是否处于活动状态。</li>
<li>活动状态就是线程启动且尚未终止，比如正在运行或准备开始运行。</li>
</ul>
<h3 id="articleHeader66">CountDownLatch用法</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public class Test {
     public static void main(String[] args) {   
     
         final CountDownLatch latch = new CountDownLatch(2);
 
         new Thread(){
             public void run() {
                 try {
                     System.out.println(&quot;子线程&quot;+Thread.currentThread().getName()+&quot;正在执行&quot;);
                    Thread.sleep(3000);
                    System.out.println(&quot;子线程&quot;+Thread.currentThread().getName()+&quot;执行完毕&quot;);
                    latch.countDown();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
             };
         }.start();
 
         new Thread(){
             public void run() {
                 try {
                     System.out.println(&quot;子线程&quot;+Thread.currentThread().getName()+&quot;正在执行&quot;);
                     Thread.sleep(3000);
                     System.out.println(&quot;子线程&quot;+Thread.currentThread().getName()+&quot;执行完毕&quot;);
                     latch.countDown();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
             };
         }.start();
 
         try {
             System.out.println(&quot;等待2个子线程执行完毕...&quot;);
            latch.await();
            System.out.println(&quot;2个子线程已经执行完毕&quot;);
            System.out.println(&quot;继续执行主线程&quot;);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
     }
 }" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{   
     
         <span class="hljs-keyword">final</span> CountDownLatch latch = <span class="hljs-keyword">new</span> CountDownLatch(<span class="hljs-number">2</span>);
 
         <span class="hljs-keyword">new</span> Thread(){
             <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                 <span class="hljs-keyword">try</span> {
                     System.out.println(<span class="hljs-string">"子线程"</span>+Thread.currentThread().getName()+<span class="hljs-string">"正在执行"</span>);
                    Thread.sleep(<span class="hljs-number">3000</span>);
                    System.out.println(<span class="hljs-string">"子线程"</span>+Thread.currentThread().getName()+<span class="hljs-string">"执行完毕"</span>);
                    latch.countDown();
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
             };
         }.start();
 
         <span class="hljs-keyword">new</span> Thread(){
             <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                 <span class="hljs-keyword">try</span> {
                     System.out.println(<span class="hljs-string">"子线程"</span>+Thread.currentThread().getName()+<span class="hljs-string">"正在执行"</span>);
                     Thread.sleep(<span class="hljs-number">3000</span>);
                     System.out.println(<span class="hljs-string">"子线程"</span>+Thread.currentThread().getName()+<span class="hljs-string">"执行完毕"</span>);
                     latch.countDown();
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
             };
         }.start();
 
         <span class="hljs-keyword">try</span> {
             System.out.println(<span class="hljs-string">"等待2个子线程执行完毕..."</span>);
            latch.await();
            System.out.println(<span class="hljs-string">"2个子线程已经执行完毕"</span>);
            System.out.println(<span class="hljs-string">"继续执行主线程"</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
     }
 }</code></pre>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="线程Thread-0正在执行
线程Thread-1正在执行
等待2个子线程执行完毕...
线程Thread-0执行完毕
线程Thread-1执行完毕
2个子线程已经执行完毕
继续执行主线程" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs lsl"><code>线程Thread<span class="hljs-number">-0</span>正在执行
线程Thread<span class="hljs-number">-1</span>正在执行
等待<span class="hljs-number">2</span>个子线程执行完毕...
线程Thread<span class="hljs-number">-0</span>执行完毕
线程Thread<span class="hljs-number">-1</span>执行完毕
<span class="hljs-number">2</span>个子线程已经执行完毕
继续执行主线程</code></pre>
<p>new CountDownLatch(2)的构造函数接收一个int类型的参数作为计数器，如果你想等待N个点完成，这里就传入N。</p>
<p>当我们调用一次CountDownLatch的countDown()方法时，N就会减1，CountDownLatch的await()会阻塞当前线程，直到N变成零。由于countDown方法可以用在任何地方，所以这里说的N个点，可以是N个线程，也可以是1个线程里的N个执行步骤。用在多个线程时，你只需要把这个CountDownLatch的引用传递到线程里。</p>
<p><a href="http://www.importnew.com/21889.html" target="_blank">Java并发编程：CountDownLatch、CyclicBarrier和 Semaphore</a></p>
<p><a href="http://www.importnew.com/21889.html" target="_blank">http://www.importnew.com/21889.html</a></p>
<h1 id="articleHeader67">synchronized和ReentrantLock的区别？</h1>
<p>java在编写多线程程序时，为了保证线程安全，需要对数据同步，经常用到两种同步方式就是Synchronized和重入锁ReentrantLock。</p>
<h3 id="articleHeader68">基础知识</h3>
<ul>
<li>
<strong>可重入锁</strong>。可重入锁是指同一个线程可以多次获取同一把锁。<strong>ReentrantLock和synchronized都是可重入锁</strong>。</li>
<li>
<strong>可中断锁</strong>。可中断锁是指线程尝试获取锁的过程中，是否可以响应中断。synchronized是不可中断锁，而ReentrantLock则提供了中断功能。</li>
<li>
<strong>公平锁与非公平锁</strong>。公平锁是指多个线程同时尝试获取同一把锁时，获取锁的顺序按照线程达到的顺序，而非公平锁则允许线程“插队”。synchronized是非公平锁，而ReentrantLock的默认实现是非公平锁，但是也可以设置为公平锁。</li>
<li>
<strong>CAS操作(CompareAndSwap)</strong>。CAS操作简单的说就是比较并交换。CAS 操作包含三个操作数 —— 内存位置（V）、预期原值（A）和新值(B)。如果内存位置的值与预期原值相匹配，那么处理器会自动将该位置值更新为新值。否则，处理器不做任何操作。无论哪种情况，它都会在 CAS 指令之前返回该位置的值。CAS 有效地说明了“我认为位置 V 应该包含值 A；如果包含该值，则将 B 放到这个位置；否则，不要更改该位置，只告诉我这个位置现在的值即可。”</li>
</ul>
<h3 id="articleHeader69">Synchronized</h3>
<p>synchronized是java内置的关键字，它提供了一种独占的加锁方式。synchronized的获取和释放锁由JVM实现，用户不需要显示的释放锁，非常方便。然而synchronized也有一定的局限性</p>
<p>例如：</p>
<ol>
<li>当线程尝试获取锁的时候，如果获取不到锁会一直阻塞。</li>
<li>如果获取锁的线程进入休眠或者阻塞，除非当前线程异常，否则其他线程尝试获取锁必须一直等待。</li>
</ol>
<h3 id="articleHeader70">ReentrantLock</h3>
<p>ReentrantLock它是JDK 1.5之后提供的API层面的互斥锁，需要lock()和unlock()方法配合try/finally语句块来完成。</p>
<p>代码示例</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="private Lock lock = new ReentrantLock();
public void test(){
 lock.lock();
 try{
 doSomeThing();
 }catch (Exception e){
 // ignored
 }finally {
 lock.unlock();
 }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">private</span> Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>{
 lock.lock();
 <span class="hljs-keyword">try</span>{
 doSomeThing();
 }<span class="hljs-keyword">catch</span> (Exception e){
 <span class="hljs-comment">// ignored</span>
 }<span class="hljs-keyword">finally</span> {
 lock.unlock();
 }
}</code></pre>
<ul>
<li>
<strong><em>*lock</em></strong>()*, 如果获取了锁立即返回，如果别的线程持有锁，当前线程则一直处于休眠状态，直到获取锁</li>
<li>
<strong>tryLock()</strong>, 如果获取了锁立即返回true，如果别的线程正持有锁，立即返回false；</li>
<li>
<strong>tryLock(long timeout,TimeUnit unit)</strong><em>*</em>*，如果获取了锁定立即返回true，如果别的线程正持有锁，会等待参数给定的时间，在等待的过程中，如果获取了锁定，就返回true，如果等待超时，返回false；</li>
<li>
<strong>lockInterruptibly</strong>:如果获取了锁定立即返回，如果没有获取锁定，当前线程处于休眠状态，直到或者锁定，或者当前线程被别的线程中断</li>
</ul>
<p><strong>ReentrantLock 一些特性</strong></p>
<ol>
<li>
<strong>等待可中断避免，出现死锁的情况</strong>（如果别的线程正持有锁，会等待参数给定的时间，在等待的过程中，如果获取了锁定，就返回true，如果等待超时，返回false）</li>
<li>
<strong>公平锁与非公平锁</strong>多个线程等待同一个锁时，必须按照申请锁的时间顺序获得锁，Synchronized锁非公平锁，<strong>ReentrantLock默认的构造函数是创建的非公平锁，可以通过参数true设为公平锁</strong>，但公平锁表现的性能不是很好。</li>
</ol>
<p>公平锁：线程获取锁的顺序和调用lock的顺序一样，FIFO；</p>
<p>非公平锁：线程获取锁的顺序和调用lock的顺序无关，全凭运气。</p>
<p><strong>Java并发包(java.util.concurrent)中大量使用了CAS操作,涉及到并发的地方都调用了sun.misc.Unsafe类方法进行CAS操作</strong>。</p>
<h3 id="articleHeader71">ReenTrantLock实现的原理：</h3>
<p>简单来说，<strong>ReenTrantLock的实现是一种自旋锁，通过循环调用CAS操作来实现加锁</strong>。它的性能比较好也是因为避免了使线程进入内核态的阻塞状态。想尽办法避免线程进入内核的阻塞状态是我们去分析和理解锁设计的关键钥匙。</p>
<h3 id="articleHeader72">总结一下</h3>
<p>在Synchronized优化以前，synchronized的性能是比ReenTrantLock差很多的，但是自从Synchronized引入了偏向锁，轻量级锁（自旋锁）后，两者的性能就差不多了，在两种方法都可用的情况下，官方甚至建议使用synchronized，其实synchronized的优化我感觉就借鉴了ReenTrantLock中的CAS技术。都是试图在用户态就把加锁问题解决，避免进入内核态的线程阻塞。</p>
<p><strong>synchronized</strong>： </p>
<p>在资源竞争不是很激烈的情况下，偶尔会有同步的情形下，synchronized是很合适的。原因在于，编译程序通常会尽可能的进行优化synchronize，另外可读性非常好。 </p>
<p><strong>ReentrantLock</strong>: </p>
<p>ReentrantLock用起来会复杂一些。在基本的加锁和解锁上，两者是一样的，所以无特殊情况下，推荐使用synchronized。ReentrantLock的优势在于它更灵活、更强大，增加了轮训、超时、中断等高级功能。</p>
<p>ReentrantLock默认<strong>使用非公平锁是基于性能考虑</strong>，公平锁为了保证线程规规矩矩地排队，需要增加阻塞和唤醒的时间开销。如果直接插队获取非公平锁，跳过了对队列的处理，速度会更快。</p>
<p><strong>ReentrantLock实现原理</strong></p>
<p><a href="https://www.cnblogs.com/maypattis/p/6403682.html" target="_blank">https://www.cnblogs.com/maypattis/p/6403682.html</a></p>
<p><strong>分析ReentrantLock的实现原理</strong>(ReentrantLock和同步工具类的实现基础都是AQS)</p>
<p><a href="https://www.jianshu.com/p/fe027772e156" target="_blank">https://www.jianshu.com/p/fe027772e156</a></p>
<h1 id="articleHeader73">Semaphore有什么作用？</h1>
<ol>
<li>Semaphore就是一个信号量，<strong>它的作用是限制某段代码块的并发数</strong>。</li>
<li>Semaphore有一个构造函数，可以<strong>传入一个int型整数n，表示某段代码最多只有n个线程可以访问</strong>，</li>
<li>
<strong>如果超出了n，那么请等待，等到某个线程执行完毕这段代码块，下一个线程再进入</strong>。</li>
<li>由此可以看出如果Semaphore构造函数中传入的int型整数n=1，相当于变成了一个synchronized了。</li>
</ol>
<p>Semaphore类位于java.util.concurrent包下，它提供了2个构造器：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//参数permits表示许可数目，即同时可以允许多少线程进行访问  
public Semaphore(int permits) {  
    sync = new NonfairSync(permits);  
}  
//这个多了一个参数fair表示是否是公平的，即等待时间越久的越先获取许可  
public Semaphore(int permits, boolean fair) {  
    sync = (fair)? new FairSync(permits) : new NonfairSync(permits);  
}  " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-comment">//参数permits表示许可数目，即同时可以允许多少线程进行访问  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Semaphore</span><span class="hljs-params">(<span class="hljs-keyword">int</span> permits)</span> </span>{  
    sync = <span class="hljs-keyword">new</span> NonfairSync(permits);  
}  
<span class="hljs-comment">//这个多了一个参数fair表示是否是公平的，即等待时间越久的越先获取许可  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Semaphore</span><span class="hljs-params">(<span class="hljs-keyword">int</span> permits, <span class="hljs-keyword">boolean</span> fair)</span> </span>{  
    sync = (fair)? <span class="hljs-keyword">new</span> FairSync(permits) : <span class="hljs-keyword">new</span> NonfairSync(permits);  
}  </code></pre>
<ul>
<li>Semaphore类中比较重要的几个方法，首先是acquire()、release()方法：</li>
<li>acquire()用来获取一个许可，若无许可能够获得，则会一直等待，直到获得许可。</li>
<li>release()用来释放许可。注意，在释放许可之前，必须先获获得许可。</li>
</ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="Semaphore类中比较重要的几个方法，首先是acquire()、release()方法：
acquire()用来获取一个许可，若无许可能够获得，则会一直等待，直到获得许可。
release()用来释放许可。注意，在释放许可之前，必须先获获得许可。" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java">Semaphore类中比较重要的几个方法，首先是acquire()、release()方法：
acquire()用来获取一个许可，若无许可能够获得，则会一直等待，直到获得许可。
release()用来释放许可。注意，在释放许可之前，必须先获获得许可。</code></pre>
<p>这4个方法都会被阻塞，如果想立即得到执行结果，可以使用下面几个方法：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//尝试获取一个许可，若获取成功，则立即返回true，若获取失败，则立即返回false  
public boolean tryAcquire() { };  
//尝试获取一个许可，若在指定的时间内获取成功，则立即返回true，否则则立即返回false  
public boolean tryAcquire(long timeout, TimeUnit unit) throws InterruptedException { };   
//尝试获取permits个许可，若获取成功，则立即返回true，若获取失败，则立即返回false  
public boolean tryAcquire(int permits) { };   
//尝试获取permits个许可，若在指定的时间内获取成功，则立即返回true  
public boolean tryAcquire(int permits, long timeout, TimeUnit unit) throws InterruptedException { };  
//得到当前可用的许可数目  
public int availablePermits(); " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-comment">//尝试获取一个许可，若获取成功，则立即返回true，若获取失败，则立即返回false  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAcquire</span><span class="hljs-params">()</span> </span>{ };  
<span class="hljs-comment">//尝试获取一个许可，若在指定的时间内获取成功，则立即返回true，否则则立即返回false  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAcquire</span><span class="hljs-params">(<span class="hljs-keyword">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>{ };   
<span class="hljs-comment">//尝试获取permits个许可，若获取成功，则立即返回true，若获取失败，则立即返回false  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAcquire</span><span class="hljs-params">(<span class="hljs-keyword">int</span> permits)</span> </span>{ };   
<span class="hljs-comment">//尝试获取permits个许可，若在指定的时间内获取成功，则立即返回true  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">tryAcquire</span><span class="hljs-params">(<span class="hljs-keyword">int</span> permits, <span class="hljs-keyword">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> InterruptedException </span>{ };  
<span class="hljs-comment">//得到当前可用的许可数目  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">availablePermits</span><span class="hljs-params">()</span></span>; </code></pre>
<h3 id="articleHeader74">示例</h3>
<p>假若一个工厂有5台机器，但是有8个工人，一台机器同时只能被一个工人使用，只有使用完了，其他工人才能继续使用。那么我们就可以通过Semaphore来实现：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public class Test {  
    public static void main(String[] args) {  
        int N = 8; //工人数  
        Semaphore semaphore = new Semaphore(5); //机器数目  
        for(int i=0;i&lt;N;i++)  
            new Worker(i,semaphore).start();  
    }      
    static class Worker extends Thread{  
        private int num;  
        private Semaphore semaphore;  
        public Worker(int num,Semaphore semaphore){  
            this.num = num;  
            this.semaphore = semaphore;  
        }          
        @Override  
        public void run() {  
            try {  
                semaphore.acquire();  
                System.out.println(&quot;工人&quot;+this.num+&quot;占用一个机器在生产...&quot;);  
                Thread.sleep(2000);  
                System.out.println(&quot;工人&quot;+this.num+&quot;释放出机器&quot;);  
                semaphore.release();              
            } catch (InterruptedException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
} " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        <span class="hljs-keyword">int</span> N = <span class="hljs-number">8</span>; <span class="hljs-comment">//工人数  </span>
        Semaphore semaphore = <span class="hljs-keyword">new</span> Semaphore(<span class="hljs-number">5</span>); <span class="hljs-comment">//机器数目  </span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;N;i++)  
            <span class="hljs-keyword">new</span> Worker(i,semaphore).start();  
    }      
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Worker</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{  
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> num;  
        <span class="hljs-keyword">private</span> Semaphore semaphore;  
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Worker</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num,Semaphore semaphore)</span></span>{  
            <span class="hljs-keyword">this</span>.num = num;  
            <span class="hljs-keyword">this</span>.semaphore = semaphore;  
        }          
        <span class="hljs-meta">@Override</span>  
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{  
            <span class="hljs-keyword">try</span> {  
                semaphore.acquire();  
                System.out.println(<span class="hljs-string">"工人"</span>+<span class="hljs-keyword">this</span>.num+<span class="hljs-string">"占用一个机器在生产..."</span>);  
                Thread.sleep(<span class="hljs-number">2000</span>);  
                System.out.println(<span class="hljs-string">"工人"</span>+<span class="hljs-keyword">this</span>.num+<span class="hljs-string">"释放出机器"</span>);  
                semaphore.release();              
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
} </code></pre>
<p>运行结果：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="工人0占用一个机器在生产...  
工人1占用一个机器在生产...  
工人2占用一个机器在生产...  
工人4占用一个机器在生产...  
工人5占用一个机器在生产...  
工人0释放出机器  
工人2释放出机器  
工人3占用一个机器在生产...  
工人7占用一个机器在生产...  
工人4释放出机器  
工人5释放出机器  
工人1释放出机器  
工人6占用一个机器在生产...  
工人3释放出机器  
工人7释放出机器  
工人6释放出机器" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre><code class="java">工人<span class="hljs-number">0</span>占用一个机器在生产...  
工人<span class="hljs-number">1</span>占用一个机器在生产...  
工人<span class="hljs-number">2</span>占用一个机器在生产...  
工人<span class="hljs-number">4</span>占用一个机器在生产...  
工人<span class="hljs-number">5</span>占用一个机器在生产...  
工人<span class="hljs-number">0</span>释放出机器  
工人<span class="hljs-number">2</span>释放出机器  
工人<span class="hljs-number">3</span>占用一个机器在生产...  
工人<span class="hljs-number">7</span>占用一个机器在生产...  
工人<span class="hljs-number">4</span>释放出机器  
工人<span class="hljs-number">5</span>释放出机器  
工人<span class="hljs-number">1</span>释放出机器  
工人<span class="hljs-number">6</span>占用一个机器在生产...  
工人<span class="hljs-number">3</span>释放出机器  
工人<span class="hljs-number">7</span>释放出机器  
工人<span class="hljs-number">6</span>释放出机器</code></pre>
<h1 id="articleHeader75">Java Concurrency API中的Lock接口(Lock interface)是什么？对比同步它有什么优势？</h1>
<p>Lock接口比同步方法和同步块提供了更具扩展性的锁操作。他们允许更灵活的结构，可以具有完全不同的性质，并且可以支持多个相关类的条件对象。</p>
<p>它的优势有：</p>
<ul>
<li>可以使锁更公平</li>
<li>可以使线程在等待锁的时候响应中断</li>
<li>可以让线程尝试获取锁，并在无法获取锁的时候立即返回或者等待一段时间</li>
<li>可以在不同的范围，以不同的顺序获取和释放锁</li>
</ul>
<h1 id="articleHeader76">Hashtable的size()方法中明明只有一条语句”return count”，为什么还要做同步？</h1>
<p>同一时间只能有一条线程执行固定类的同步方法，但是对于类的非同步方法，可以多条线程同时访问。所以，这样就有问题了，可能线程A在执行Hashtable的put方法添加数据，线程B则可以正常调用size()方法读取Hashtable中当前元素的个数，那读取到的值可能不是最新的，可能线程A添加了完了数据，但是没有对size++，线程B就已经读取size了，那么对于线程B来说读取到的size一定是不准确的。</p>
<p><strong>而给size()方法加了同步之后，意味着线程B调用size()方法只有在线程A调用put方法完毕之后才可以调用，这样就保证了线程安全性</strong></p>
<h1 id="articleHeader77">ConcurrentHashMap的并发度是什么？</h1>
<p>ConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势</p>
<h1 id="articleHeader78">ReentrantReadWriteLock读写锁的使用</h1>
<p>Lock比传统线程模型中的synchronized方式更加面向对象，与生活中的锁类似，锁本身也应该是一个对象。两个线程执行的代码片段要实现同步互斥的效果，它们必须用同一个Lock对象。</p>
<p><strong>读写锁</strong>：<strong>分为读锁和写锁，多个读锁不互斥，读锁与写锁互斥，这是由jvm自己控制的，你只要上好相应的锁即可</strong>。<br><strong>如果你的代码只读数据，可以很多人同时读，但不能同时写，那就上读锁</strong>；</p>
<p>如果你的代码修改数据，只能有一个人在写，且不能同时读取，那就上写锁。总之，读的时候上读锁，写的时候上写锁！</p>
<p><strong>ReentrantReadWriteLock会使用两把锁来解决问题，一个读锁，一个写锁</strong></p>
<p><strong>线程进入读锁的前提条件</strong>：</p>
<ul>
<li><strong>没有其他线程的写锁</strong></li>
<li><strong>没有写请求或者有写请求，但调用线程和持有锁的线程是同一个</strong></li>
</ul>
<p><strong>线程进入写锁的前提条件</strong>：</p>
<ul>
<li><strong>没有其他线程的读锁</strong></li>
<li><strong>没有其他线程的写锁</strong></li>
<li>读锁的重入是允许多个申请读操作的线程的，而写锁同时只允许单个线程占有，该线程的写操作可以重入。</li>
<li>如果一个线程占有了写锁，在不释放写锁的情况下，它还能占有读锁，即写锁降级为读锁。</li>
<li>对于同时占有读锁和写锁的线程，如果完全释放了写锁，那么它就完全转换成了读锁，以后的写操作无法重入，在写锁未完全释放时写操作是可以重入的。</li>
<li>公平模式下无论读锁还是写锁的申请都必须按照AQS锁等待队列先进先出的顺序。非公平模式下读操作插队的条件是锁等待队列head节点后的下一个节点是SHARED型节点，写锁则无条件插队。</li>
<li>读锁不允许newConditon获取Condition接口，而写锁的newCondition接口实现方法同ReentrantLock。</li>
</ul>
<h1 id="articleHeader79">推荐阅读</h1>
<ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964547&amp;idx=1&amp;sn=ffd4eee6536356a79884b104a81d00b9&amp;chksm=88ede9abbf9a60bd065d14f8e0c962aa817249409698075ccb619c9abc7f0ec908600a7fca7b&amp;scene=21#wechat_redirect" target="_blank">BTA 常问的 Java基础40道常见面试题及详细答案</a></li></ul>
<h2 id="articleHeader80">Spring Cloud 系列教程</h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964403&amp;idx=1&amp;sn=73ad9f65e2530bf87dadd35a96658fd7" target="_blank">Spring Cloud（一）服务的注册与发现 Eureka </a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964404&amp;idx=1&amp;sn=72676a761715bdd1e4711360dfa2c469" target="_blank">Spring Cloud（二）Consul 服务治理实现 </a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964405&amp;idx=1&amp;sn=9a85514edf8e8fbe301aea5c0a8fb55e" target="_blank">Spring Cloud（三）服务提供者 Eureka + 服务消费者（rest + Ribbon）</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964406&amp;idx=1&amp;sn=6884383251b4eb9ae8a9c9f3ea4f3c09" target="_blank">Spring Cloud（四）服务提供者 Eureka + 服务消费者 Feign </a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964412&amp;idx=1&amp;sn=5e5e5208aedf7324f1f0ecd7e3780344" target="_blank">Spring Cloud（五）断路器监控(Hystrix Dashboard)</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964422&amp;idx=1&amp;sn=4feb1646baa0a2172cdf953f55824002" target="_blank">Spring Cloud（六）服务网关 zuul 快速入门</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964425&amp;idx=1&amp;sn=f33137f5c312b2d938d17bb1125d411d" target="_blank">Spring Cloud（七）服务网关 Zuul Filter 使用</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964427&amp;idx=1&amp;sn=9aed5b79885c8e70831b5219ba1571be" target="_blank">Spring Cloud（八）高可用的分布式配置中心 Spring Cloud Config</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964439&amp;idx=1&amp;sn=556c328bd756555ff2c3422277fb7ffc" target="_blank">Spring Cloud（九）高可用的分布式配置中心 Spring Cloud Config 集成 Eureka 服务</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964444&amp;idx=1&amp;sn=b8826d3d314d5f64bd5c54bcc8c15dbe" target="_blank">Spring Cloud（十）高可用的分布式配置中心 Spring Cloud Config 中使用 Refresh</a></li>
<li><a href="http://mp.weixin.qq.com/s/R9bghtpnLPtGBHjBJRR0Og" target="_blank">Spring Cloud（十一）高可用的分布式配置中心 Spring Cloud Bus 消息总线集成（RabbitMQ）</a></li>
</ul>
<h2 id="articleHeader81">Spring Boot 系列教程</h2>
<p>源码 + 教程</p>
<p><strong>Github</strong>:<a href="https://github.com/souyunku/spring-boot-examples" target="_blank">https://github.com/souyunku/spring-boot-examples</a></p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000013703652?w=748&amp;h=608" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/squares.svg" style="cursor: pointer;"></span></p>
<h2 id="articleHeader82">Docker 容器</h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964477&amp;idx=1&amp;sn=3cfa2332fc3f5fa0cb7613987b48f449" target="_blank">Docker Compose 1.18.0 之服务编排详解</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964410&amp;idx=1&amp;sn=a1d189b731662f062ab5c8ae6c1d4662" target="_blank">Docker CE 安装 初窥 Dockerfile 部署 Nginx</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964415&amp;idx=1&amp;sn=a1485845724a3595cbeb22abfd19c6ad" target="_blank">Docker Container 容器操作</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964418&amp;idx=1&amp;sn=9f7b142968b75eaa7d0934d1045e0ce9" target="_blank">Docker Hub 仓库使用，及搭建 Docker Registry</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964421&amp;idx=1&amp;sn=8ac4f3fb5dc1828b67b5798ffc0a9753" target="_blank">Docker Registry Server 搭建,配置免费 HTTPS 证书，及拥有权限认证、TLS 的私有仓库</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964426&amp;idx=1&amp;sn=0c6d7d1ae718c5fea9901e5321aba403" target="_blank">Docker Registry 企业级私有镜像仓库Harbor管理WEB UI, 可能是最详细的部署</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964438&amp;idx=1&amp;sn=f709b17011fa2713221f66aa28e5702e" target="_blank">Docker 部署 SpringBoot 项目整合 Redis 镜像做访问计数 Demo</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964451&amp;idx=1&amp;sn=4865f254dcfa69fe0e98e7dde4a6cd5b" target="_blank">Docker Maven Plugin 生成 Docker 镜像 push 到 DockerHub上 </a></li>
</ul>
<h2 id="articleHeader83">环境搭建</h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964513&amp;idx=1&amp;sn=3c926d8f96048ba17dee17541c69893f&amp;chksm=88ede9c9bf9a60dfb530bc3f7d892c826e99fba5a6c533744dcd25ebc6ab8839cbf79e607c5d#rd" target="_blank">搭建 Apache RocketMQ 单机环境</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964503&amp;idx=1&amp;sn=1335ece54312f9ed91232ce34d222dd5&amp;chksm=88ede9ffbf9a60e9e03efc28fb4fb469b8212d2ea52208c3db4a1b37b4437b8accbff4a2ed86#rd" target="_blank">手把手教你 MongoDB 的安装与详细使用（一）</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964506&amp;idx=1&amp;sn=9f473a0797b6f091629a6e42dc870133&amp;chksm=88ede9f2bf9a60e4d20402824eaf9803261276073a988659d3b45c82bf4f9bc7f589a08e2086#rd" target="_blank">手把手教你 MongoDB 的安装与详细使用（二）</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964509&amp;idx=1&amp;sn=9476cda64a51956ae7c7a10352ca31b5&amp;chksm=88ede9f5bf9a60e32f03832ced791e6fd95defa18a3ccc854f2a0ad51527a3ffc7d892132fe8#rd" target="_blank">搭建 MongoDB分片（sharding） / 分区 / 集群环境</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964464&amp;idx=2&amp;sn=f944f824c58acc709aea4e86498af426" target="_blank">搭建 SolrCloud 集群服务</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964464&amp;idx=3&amp;sn=32f023390ebdfe1d30bdf8c109316f83&amp;scene=19#wechat_redirect" target="_blank">搭建 Solr 单机服务</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964457&amp;idx=3&amp;sn=abb501f40f3314ecf28b5a96ab028f5c" target="_blank">搭建 RabbitMQ 集群服务</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964457&amp;idx=2&amp;sn=7d19d7067e33e262463cd70186b23946" target="_blank">搭建 RabbitMQ 单机服务</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964443&amp;idx=1&amp;sn=ef6243304e80b32b300b36e88cb7dae9" target="_blank">Mycat 读写分离 数据库分库分表 中间件 安装部署，及简单使用</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzA3MTUzOTcxOQ==&amp;mid=2452964430&amp;idx=1&amp;sn=f76c3b3e2fa41fe149fa21dd91061c10" target="_blank">离线部署 CDH 5.12.1 及使用 CDH 部署 Hadoop 大数据平台集群服务</a></li>
</ul>
<h1 id="articleHeader84">Contact</h1>
<ul>
<li>作者：鹏磊</li>
<li>出处：<a href="http://www.ymq.io/" target="_blank">http://www.ymq.io</a>
</li>
<li>版权归作者所有，转载请注明出处</li>
<li>Wechat：关注公众号，搜云库，专注于开发技术的研究与知识分享</li>
</ul>
<p><span class="img-wrap"><img data-src="/img/remote/1460000013813746?w=589&amp;h=298" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/squares.svg" style="cursor: pointer;"></span></p>

                </div>
                                                
                <div class="clearfix mt10">
                    <ul class="article-operation list-inline pull-left"><li><a href="https://segmentfault.com/a/1190000013813740">2 天前发布</a></li><li class="dropdown js__content-ops" data-module="article" data-id="1190000013813740" data-typetext="文章"><a href="javascript:void(0);" class="dropdown-toggle text-muted" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a><ul class="dropdown-menu dropdown-menu-left"><li><a href="https://segmentfault.com/a/1190000013813740#911" data-toggle="modal" data-target="#911" data-action="report">举报</a></li></ul></li></ul>
                    <div class="pull-right">
                        <div class="widget-share__full" data-text="想进大厂？50个多线程面试题，你会多少？（一）" data-url="https://segmentfault.com/a/1190000013813740?share_user=1030000007471032" data-shorturl="http://sfau.lt/b557Kq"><div class="widget-share-network sharer-0" style="display: block;"><ul class="sn-inline"><li data-network="weibo"><a href="javascript:void(0);" class="entypo-weibo icon-sn-weibo share-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至新浪微博">新浪微博</a></li><li data-network="wechart"><a href="javascript:void(0);" class="entypo-wechart icon-sn-weixin share-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至微信">微信</a></li><li data-network="twitter"><a href="javascript:void(0);" class="entypo-twitter icon-sn-twitter share-3" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Twitter">Twitter</a></li><li data-network="facebook"><a href="javascript:void(0);" class="entypo-facebook icon-sn-facebook share-4" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Facebook">Facebook</a></li></ul></div><a type="button" class="btn btn-sm shareMore btn-sn-more" data-toggle="popover" data-placement="top" data-url="https://segmentfault.com/a/1190000013813740?share_user=1030000007471032" data-shorturl="http://sfau.lt/b557Kq"><span class="icon-sn-dotted" data-original-title="" title=""></span><strong class="visible-xs-inline">•••</strong></a></div>


                    </div>
                </div>
                <div class="mt10 text-center"><button type="button" data-id="1190000013813740" class="btn btn-danger btn-lg mr15 article__reward-btn">
                                    赞赏支持
                                </button><button type="button" id="mainLike" data-id="1190000013813740" class="btn btn-success btn-lg mr15 "><span id="mainLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                <span id="mainLikeNum">60 </span></button><button type="button" id="mainBookmark" data-type="article" data-id="1190000013813740" class="btn btn-default btn-lg  active"><span id="mainBookmarkText">已收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="mainBookmarkNum">178</span></button></div><div class="mt20 text-center article__reward-info"><span class="mr10">如果觉得我的文章对你有用，请随意赞赏</span></div>
                                                <div id="mm_124884735_33830642_143436142" class="mt20 ad-detail-mm hidden-xs"><div id="ac_wrap_mm_124884735_33830642_143436142" style="width:728px"><script async=""></script>
<!-- 中部横幅广告位 -->
<ins class="adsbygoogle" style="display: inline-block; width: 728px; height: 0px;" data-ad-client="ca-pub-6330872677300335" data-ad-slot="5598290435" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent;"><ins id="aswift_0_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 728px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><script type="text/javascript"></script><script type="text/javascript"></script><script type="text/javascript"></script><script type="text/javascript"></script><script type="text/javascript"></script></div></div>
                <style>
                    #mm_124884735_33830642_143436142 {
                        display: flex;
                        justify-content: center;
                    }
                </style>

                                    <div class="recommend-post pt30 mt40 mb30 border-top">
                        <div class="row">
                            <div class="col-md-8">
                                                                    <h4 class="mt0">你可能感兴趣的文章</h4>
                                    <ul class="widget-links list-unstyled">
                                                                                    <li class="widget-links__item">
                                                <a href="https://segmentfault.com/a/1190000011411213" title="浅析Java线程池 ExecutorService">浅析Java线程池 ExecutorService</a>
                                                <small class="text-muted">
                                                    4 收藏，333
                                                    浏览
                                                </small>
                                            </li>
                                                                                    <li class="widget-links__item">
                                                <a href="https://segmentfault.com/a/1190000007645571" title="Java基础学习——多线程之控制线程">Java基础学习——多线程之控制线程</a>
                                                <small class="text-muted">
                                                    1 收藏，664
                                                    浏览
                                                </small>
                                            </li>
                                                                                    <li class="widget-links__item">
                                                <a href="https://segmentfault.com/a/1190000007643444" title="Java基础学习——多线程之停止线程和守护线程">Java基础学习——多线程之停止线程和守护线程</a>
                                                <small class="text-muted">
                                                    1 收藏，804
                                                    浏览
                                                </small>
                                            </li>
                                                                            </ul>
                                                            </div>
                            <div class="col-md-4">
                                                            </div>
                        </div>

                    </div>
                                <!-- <ul class="list-unstyled text-muted mt30">
                                        <li>上一篇：<a href="/a/1190000013731318">什么是阻塞队列？如何使用阻塞队列来实现生产者-消费者模型？</a></li>
                                                        </ul> -->

                <h2 class="h4 post-comment-title"></h2>
                
        <div class="comments--news comments--default comments--article 
    " data-id="1190000013813740" data-user-id="1030000007471032" data-author-id="1030000007880262 " data-is-admin="false" id="goToReplyArea">
                    <div class="mb10 clearfix">
                <strong class="comments-stat pull-left mr10">6 条评论</strong>

                                                    <div class="btn-group btn-group-xs pull-right comments-sort btn-group-menu" role="menu">
                        <a href="javascript:;" class="btn btn-default active" data-sort="default">默认排序</a>
                        <a href="javascript:;" class="btn btn-default" data-sort="desc">时间排序</a>
                    </div>
                            </div>
                <div class="comments-container">
                                <div class="comments-list">
                <div class="comments-item" data-id="1050000013816548">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/liuzijian" target="_blank"><img class="avatar-32 " src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/3603306998-5a5ff5b008d7a_big64" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    <div class="pull-right comment-option">
                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-action="report" data-action-text="举报" data-module="comment" data-id="1050000013816548" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a>
                                            </div>
                    <strong><a target="_blank" href="https://segmentfault.com/u/liuzijian">暗夜君王</a></strong>
                    <span class="comments-isAuthor hide"></span>
                    <span class="comments-date">  ·  2 天前</span>
                </div>

                <div class="fmt mb10"><p>13.并发容器那里，<code>JDK 8 ConcurrentHashMap</code>部分的描述是不是有问题，和<code>JDK 7 ConcurrentHashMap</code>的完全相同？我记得jdk 8的ConcurrentHashMap靠的就是CAS</p></div>

                <form action="https://segmentfault.com/api/comment/1050000013816548/edit">
                    <div class="form-group">
                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">13.并发容器那里，`JDK 8 ConcurrentHashMap`部分的描述是不是有问题，和`JDK 7 ConcurrentHashMap`的完全相同？我记得jdk 8的ConcurrentHashMap靠的就是CAS</textarea>
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    <span class="pull-right editBtns hidden">
                      <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                      <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                    </span>
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000013865761">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value comment-showhide
                                         islike0-10
                                        ">
                                        0
                                    </span>
                                    <i class="fa fa-thumbs-up comment-showhide ml5" aria-hidden="true"></i>
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p><code>ConcurrentHashMap</code>和<code>CAS</code>还有关系？我只读过<code>JDK6</code>版本的源码，但觉得和<code>CAS</code>不搭边啊？请赐教</p></div>
                                <form action="https://segmentfault.com/api/comment/1050000013865761/edit">
                                    <div class="form-group">
                                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">`ConcurrentHashMap`和`CAS`还有关系？我只读过`JDK6`版本的源码，但觉得和`CAS`不搭边啊？请赐教</textarea>
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    <span class="pull-right commentTools ml15">
                                                                                    <a href="javascript:void(0);" class="comment-reply-btn comments-reply-user-btn" data-username="蒲柳隐逸" data-userslug="puliuyinyi"><span class="glyphicon glyphicon-share-alt flipx" aria-hidden="true"></span></a>
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-module="comment" data-id="1050000013865761" data-action="report" data-typetext="评论" data-placement="top" title="举报">
                                            <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                        </a>
                                    </span>

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/puliuyinyi">
                                            <strong>蒲柳隐逸</strong>
                                        </a> 
                                        <span class="comments-isAuthor hide">
                                            
                                        </span> 
                                        <span class="text-muted-plus">  ·  16 小时前</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                        <div class="reply-item" data-id="1050000013869173">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value comment-showhide
                                         islike0-10
                                        ">
                                        0
                                    </span>
                                    <i class="fa fa-thumbs-up comment-showhide ml5" aria-hidden="true"></i>
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p><a href="https://segmentfault.com/u/puliuyinyi">@蒲柳隐逸</a> jdk6版本似乎是分段加锁，到7还是8的版本已经不是了，通过CAS做了点啥……很早之前看过一些，忘记了</p></div>
                                <form action="https://segmentfault.com/api/comment/1050000013869173/edit">
                                    <div class="form-group">
                                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">@蒲柳隐逸[puliuyinyi] jdk6版本似乎是分段加锁，到7还是8的版本已经不是了，通过CAS做了点啥……很早之前看过一些，忘记了</textarea>
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    <span class="pull-right commentTools ml15">
                                                                                    <a href="javascript:void(0);" class="comment-reply-btn comments-reply-user-btn" data-username="暗夜君王" data-userslug="liuzijian"><span class="glyphicon glyphicon-share-alt flipx" aria-hidden="true"></span></a>
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-module="comment" data-id="1050000013869173" data-action="report" data-typetext="评论" data-placement="top" title="举报">
                                            <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                        </a>
                                    </span>

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/liuzijian">
                                            <strong>暗夜君王</strong>
                                        </a> 
                                        <span class="comments-isAuthor hide">
                                            
                                        </span> 
                                        <span class="text-muted-plus">  ·  13 小时前</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000013822197">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/liutong" target="_blank"><img class="avatar-32 " src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/1779200938-5a96b802bc573_big64" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    <div class="pull-right comment-option">
                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-action="report" data-action-text="举报" data-module="comment" data-id="1050000013822197" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a>
                                            </div>
                    <strong><a target="_blank" href="https://segmentfault.com/u/liutong">一只会飞的猪</a></strong>
                    <span class="comments-isAuthor hide"></span>
                    <span class="comments-date">  ·  2 天前</span>
                </div>

                <div class="fmt mb10"><p>厉害！！！！</p></div>

                <form action="https://segmentfault.com/api/comment/1050000013822197/edit">
                    <div class="form-group">
                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">厉害！！！！</textarea>
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    <span class="pull-right editBtns hidden">
                      <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                      <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                    </span>
                </p>

                <div class="reply-list reply-list--empty">

                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000013854904">
            <div class="pull-left">
                <a href="https://segmentfault.com/u/fudongri123" target="_blank"><img class="avatar-32 " src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/user-64.png" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    <div class="pull-right comment-option">
                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-action="report" data-action-text="举报" data-module="comment" data-id="1050000013854904" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a>
                                            </div>
                    <strong><a target="_blank" href="https://segmentfault.com/u/fudongri123">fudongri123</a></strong>
                    <span class="comments-isAuthor hide"></span>
                    <span class="comments-date">  ·  21 小时前</span>
                </div>

                <div class="fmt mb10"><p>"加锁的就是是线程安全的，不加锁的就是是线程不安全的"<br>我书读得少，你别骗我。。</p></div>

                <form action="https://segmentfault.com/api/comment/1050000013854904/edit">
                    <div class="form-group">
                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">"加锁的就是是线程安全的，不加锁的就是是线程不安全的"
我书读得少，你别骗我。。</textarea>
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    <span class="pull-right editBtns hidden">
                      <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                      <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                    </span>
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000013867301">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value comment-showhide
                                         islike0-10
                                        ">
                                        0
                                    </span>
                                    <i class="fa fa-thumbs-up comment-showhide ml5" aria-hidden="true"></i>
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p><a href="https://segmentfault.com/u/fudongri123">@fudongri123</a> 你读书少不骗你，这是从网上搜的。我也感觉有问题。后期改改</p></div>
                                <form action="https://segmentfault.com/api/comment/1050000013867301/edit">
                                    <div class="form-group">
                                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;">@fudongri123[fudongri123] 你读书少不骗你，这是从网上搜的。我也感觉有问题。后期改改</textarea>
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    <span class="pull-right commentTools ml15">
                                                                                    <a href="javascript:void(0);" class="comment-reply-btn comments-reply-user-btn" data-username="搜云库" data-userslug="souyunku"><span class="glyphicon glyphicon-share-alt flipx" aria-hidden="true"></span></a>
                                                                                                                                                                <a href="https://segmentfault.com/a/1190000013813740#911" class="ml10" data-toggle="modal" data-target="#911" data-module="comment" data-id="1050000013867301" data-action="report" data-typetext="评论" data-placement="top" title="举报">
                                            <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                        </a>
                                    </span>

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="https://segmentfault.com/u/souyunku">
                                            <strong>搜云库</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  14 小时前</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
            </div>
    <div class="comments-loading hide">载入中...</div>
        <div class="comments-more hide"><a href="javascript:;">显示更多评论</a></div>
    

                                    <div class="comments-box" id="goToReplyEditor">
                <div class="pull-left">
                    <img class="avatar-32 " src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/2096163548-59e40a4a080c9_big64" alt="">
                </div>
                <div class="comments-box-content">
                    <form action="https://segmentfault.com/api/article/1190000013813740/comments/add">
                        <div class="form-group mb0">
                            <textarea name="text" rows="3" class="form-control" placeholder="文明社会，理性评论"></textarea>
                            <div class="mt15 text-right">
                                <button type="button" class="hide"></button>
                                <button class=" btn btn-primary" type="button">发布评论</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                                                        </div>
    </div>


                
            </div><!-- /.main -->


            <div class="col-xs-12 col-md-3 side">
                
                <div class="widget-box widget_lives pt0 hidden" style="border-top: none" id="live-recommend-wrapper">
                    <h2 class="widget-box__title">
                        讲堂推荐
                        <i class="fa fa-youtube-play fa-sm" aria-hidden="true"></i>
                        <a href="https://segmentfault.com/lives" class="pull-right more">更多</a>
                    </h2>
                    <div id="live-recommend" class="mb20"></div>
                </div>
                
                                
                <div id="mm_124884735_33830642_120290173" class="mb25"><span style="overflow: visible; position: relative; display: block; width: 255px; height: 213px; background: none; border: 0px; text-align: left;"><span style="overflow: hidden; position: absolute; display: block; width: 255px; height: 213px; background: none; border: 0px; text-align: left;"><span style="overflow: hidden; position: absolute; display: block; width: 255px; height: 213px; background: none; border: 0px; text-align: left;"><a href="https://afptrack.alimama.com/clk?bid=0a671c9100015ab1ce9218aa6a2460ac&amp;pid=mm_124884735_33830642_120290173&amp;cid=268079&amp;mid=253071&amp;oid=35030&amp;productType=1&amp;qytInfoMTime=1521568947&amp;e=BF7%2BMB7MKPu0LVip4%2BMlAUIexOqiEPrXaTbTAOFAxuIoMkFWzzJ6EcovQo%2F9YFMPyDBGxpwPU12ztJKDouWRkWqe%2FotC3USR&amp;k=97" target="_blank" style="position: absolute; display: block; top: 0px; left: 0px; margin: 0px; padding: 0px; width: 255px; height: 213px; text-decoration: none; opacity: 0; z-index: 1; cursor: pointer; background: rgb(255, 255, 255);"></a><img id="ac_cs_mm_124884735_33830642_120290173_1" border="0" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/e070afaf33a6cc1cf0d421b2f05e7a77.png" style="width: 255px; height: 213px;"></span></span></span></div>
                
                <div class="widget-box widget-box--blog-info">
                    <div class="blog__sidebar-author ">
                                                    <button type="button" class="btn btn-sm btn-success follow-user ml10 pull-right" data-do="follow" data-type="user" data-id="1030000007880262">关注作者
                            </button>
                        
                        <div class="article__widget--author">
                            <a href="https://segmentfault.com/u/souyunku" class="inline-block">
                                <img class="avatar-40" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/887514003-5a48a6616c8dc_big64" alt="搜云库">
                            </a>
                            <a class="article__widget-author-name inline-block" href="https://segmentfault.com/u/souyunku">
                                <strong>搜云库</strong>
                            </a>
                            <p class="article__widget-author-text-muted mb0">
                                <span>1.5k 声望</span>

                            </p>


                        </div>


                    </div>
                                        <div class="blog__sidebar-blog-name">
                        <p class="article__widget-author-text-muted mt15 mb5">发布于专栏</p>

                        <h4 class="fz16"><a style="word-break: break-all;" href="https://segmentfault.com/blog/souyunku">搜云库</a></h4>
                        <p class="article__widget-author-desc">关注公众号，”搜云库”，专注于开发技术的研究与知识分享</p>

                        <p>
                            <span class="article__widget-author-text-muted">41 人关注</span>
                            
                                                                    <button type="button mb20" class="btn btn-sm btn-default follow-article pull-right" data-do="follow" data-type="blog" data-id="1200000010412563">关注专栏
                                    </button>
                                
                                                    </p>

                    </div>
                    

                </div>
                
                
                                <div id="mm_124884735_33830642_145440102" class="mb25 ad-should-be-fixed stuckMenu" style="display: block; position: relative; top: 0px;"><div class="sfad-list"><div class="sfad-item"><a target="_blank" href="https://afptrack.alimama.com/clk?bid=0a67349c00005ab1ce924cf669e9c07f&amp;pid=mm_124884735_33830642_145440102&amp;cid=266543&amp;mid=251746&amp;oid=34478&amp;productType=1&amp;qytInfoMTime=1521568947&amp;e=szhhXpB82IKMpq0A4M5XOxu%2BuDuQwZjvjvsSvhwfrV5ipmKrT9TvRR7aKjNw4xhuLuRratpqH3liODDozmX0cqbS5ou%2Bcrhd7gBlk0C%2B0TY8dj6cb4pSWefkEjqAj5Ew%2Bdapcbmg9EW7dGXvGiWb2H3dQH6KP1uGnmQXkC5wkBGwSFH8Hbp%2BdPDhoOcS0QRMHj5Ji57QB8MEEl2QYpmOuceSStu1Q3qxF3Quzfkt49Dqj%2BH%2FLTvBUKgzNDotEbATh4Lmt4IqPQNRRrssrjXDW7Owh7t9YKslxYMMSVZTlhSUVr5aSEf%2FGhU2B1xlY7bWEpOVMxxU2vO4vdpS2IkXD6GP%2FY0LENybEfezrvORhD6pirxp%2FkPvjt2R%2BJ6m6ngUmibPrBgINhffVDHn2iPmW0eRTkTwdD2T5FPOw6YNcurjPoT3cknsSKCyzvc0bwqdZRFipqotbMebIo8Do3kEnnJx%2BhAlJcDGM3XRuqlDHzELRDmU99lpShobGa31QjRkPjZYGSuBjg4%3D&amp;k=525"><img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/14945f2171400c10764ab8f3468470e4.jpg" alt="过年学区块链"></a></div></div><div id="ac_wrap_mm_124884735_33830642_145440102" style="width:255px"><div id="ac_wrap_custommm_124884735_33830642_145440102" style="position:relative;"></div></div></div>
 
                <div class="post-nav hidden-xs side-outline hidden-sm" style="display: block; width: 100%; margin-top: 0px; top: 0px;">
                    <div class="panel panel-default widget-outline">
                        <div class="panel-heading">目录</div>
                        <div class="panel-body">
                            <div class="nav-body" style="top: 0px;">
                                <div class="highlight-title" style="display: none; top: 0px; height: 48px;"></div>
                                <ul class="articleIndex"><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader0">关注微信公众号 "搜云库" 获取最新文章</a></li><li style="list-style:none;"><ul><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader1">【福利】公众号后台回复 “进群” 拉你进微信【技术分享群】</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader2">【福利】在里面你可以认识到很多搞技术大佬，免费提问，互相学习</a></li></ul></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader3">什么是线程？</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader4">什么是线程安全和线程不安全？</a></li><li style="list-style:none;"><ul><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader5">线程安全</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader6">线程不安全</a></li></ul></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader7">什么是自旋锁？</a></li><li style="list-style:none;"><ul><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader8">基本概念</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader9">实现自旋锁</a></li></ul></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader10">什么是Java内存模型？</a></li><li style="list-style:none;"><ul><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader11">但是面试官，有时候不这么认为，认为就是JVM内存结构</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader12">java堆（Java Heap）</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader13">java虚拟机栈(stack)</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader14">本地方法栈</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader15">方法区（Method Area）</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader16">运行时常量池</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader17">直接内存</a></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader18">总结的简单一点</a></li></ul></li><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader19">什么是CAS？</a></li><li style="list-style:none;"><ul><li class=""><a href="https://segmentfault.com/a/1190000013813740#articleHeader20">CAS应用</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader21">CAS优点</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader22">CAS缺点</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader23">总结</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader24">什么是乐观锁和悲观锁？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader25">悲观锁</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader26">乐观锁</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader27">什么是AQS？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader28">CAS 原子操作在concurrent包的实现</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader29">什么是原子操作？在Java Concurrency API中有哪些原子类(atomic classes)？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader30">什么是Executors框架？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader31">什么是阻塞队列？如何使用阻塞队列来实现生产者-消费者模型？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader32">什么是阻塞队列？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader33">阻塞队列的应用场景</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader34">几个方法</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader35">JAVA里的阻塞队列</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader36">如何使用阻塞队列来实现生产者-消费者模型？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader37">使用BlockingQueue解决生产者消费者问题</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader38">什么是Callable和Future?</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader39">什么是FutureTask?</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader40">1.执行多任务计算</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader41">2.高并发环境下</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader42">什么是同步容器和并发容器的实现？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader43">一、同步容器</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader44">二、并发容器</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader45">三、阻塞队列</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader46">四、双端队列</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader47">五、比较及适用场景</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader48">什么是多线程？优缺点？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader49">什么是多线程的上下文切换？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader50">ThreadLocal的设计理念与作用？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader51">ThreadLocal</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader52">InheritableThreadLocal</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader53">ThreadPool（线程池）用法与优势？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader54">为什么要用线程池:</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader55">new Thread 缺点</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader56">ThreadPool 优点</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader57">比较重要的几个类：</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader58">Executors提供四种线程池</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader59">一般都不用Executors提供的线程创建方式</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader60">参数：</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader61">任务执行顺序：</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader62">ThreadPoolExecutor默认有四个拒绝策略：</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader63">java 四种线程池的使用</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader64">Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader65">CountDownLatch</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader66">CountDownLatch用法</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader67">synchronized和ReentrantLock的区别？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader68">基础知识</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader69">Synchronized</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader70">ReentrantLock</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader71">ReenTrantLock实现的原理：</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader72">总结一下</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader73">Semaphore有什么作用？</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader74">示例</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader75">Java Concurrency API中的Lock接口(Lock interface)是什么？对比同步它有什么优势？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader76">Hashtable的size()方法中明明只有一条语句”return count”，为什么还要做同步？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader77">ConcurrentHashMap的并发度是什么？</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader78">ReentrantReadWriteLock读写锁的使用</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader79">推荐阅读</a></li><li style="list-style:none;"><ul><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader80">Spring Cloud 系列教程</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader81">Spring Boot 系列教程</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader82">Docker 容器</a></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader83">环境搭建</a></li></ul></li><li><a href="https://segmentfault.com/a/1190000013813740#articleHeader84">Contact</a></li></ul>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div><!-- /.side -->
        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消</button>
                <a href="https://segmentfault.com/a/1190000013813740" id="shareLink" class="btn btn-primary done-btn" target="_blank" onclick="$(&#39;#shareToWeiboModal&#39;).modal(&#39;hide&#39;)">分享</a>
            </div>
        </div>
    </div>
</div>

<div class="modal widget-911" id="911" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">×</span>
          <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
      </div>
      <div class="modal-body">
        <form id="reportForm">
          <!-- 后台返回信息 -->
          <p class="alert alert-warning" data-model="returnMsg"></p>
          <div data-role="base">
            <p>
              <strong class="required">我要<span data-model="action"></span>该<span data-model="type"></span>，理由是：</strong>
            </p>
            <ul class="list-unstyled" data-model="list"></ul>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选</button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
        <button class="btn btn-primary" data-role="submit" type="button">提交</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->






<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>产品</dt>
                
                <dd><a href="https://segmentfault.com/questions/hottest?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E7%83%AD%E9%97%A8%E9%97%AE%E7%AD%94">热门问答</a></dd>
                <dd><a href="https://segmentfault.com/blogs/hottest?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E7%83%AD%E9%97%A8%E4%B8%93%E6%A0%8F">热门专栏</a></dd>
                <dd><a href="https://segmentfault.com/lives?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E7%83%AD%E9%97%A8%E8%AE%B2%E5%A0%82">热门讲堂</a></dd>
                <dd><a href="https://segmentfault.com/events?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E6%9C%80%E6%96%B0%E6%B4%BB%E5%8A%A8">最新活动</a></dd>
                <dd><a href="https://segmentfault.com/groups?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E6%8A%80%E6%9C%AF%E5%9C%88">技术圈</a></dd>
                <dd><a href="https://segmentfault.com/jobs?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=%E6%89%BE%E5%B7%A5%E4%BD%9C">找工作</a></dd>
                <dd><a href="https://segmentfault.com/app?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=product&amp;utm_content=footer-links-hottest-questions&amp;utm_term=app">移动客户端</a></dd>
                
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>资源</dt>
                <dd><a href="https://segmentfault.com/weekly?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-weekly&amp;utm_term=%E6%AF%8F%E5%91%A8%E7%B2%BE%E9%80%89">每周精选</a></dd>
                <dd><a href="https://segmentfault.com/users?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-users&amp;utm_term=%E7%94%A8%E6%88%B7%E6%8E%92%E8%A1%8C%E6%A6%9C">用户排行榜</a></dd>
                <dd><a href="https://segmentfault.com/badges?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-badges&amp;utm_term=%E5%BE%BD%E7%AB%A0">徽章</a></dd>
                <dd><a href="https://segmentfault.com/faq?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-faq&amp;utm_term=%E5%B8%AE%E5%8A%A9%E4%B8%AD%E5%BF%83">帮助中心</a></dd>
                <dd><a href="https://segmentfault.com/repu?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-repu&amp;utm_term=%E5%A3%B0%E6%9C%9B%E4%B8%8E%E6%9D%83%E9%99%90">声望与权限</a></dd>
                <dd><a href="https://segmentfault.com/community?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-community&amp;utm_term=%E7%A4%BE%E5%8C%BA%E6%9C%8D%E5%8A%A1%E4%B8%AD%E5%BF%83">社区服务中心</a></dd>
                <dd><a href="https://docs.segmentfault.com/?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=resource&amp;utm_content=footer-links-docs&amp;utm_term=%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C">开发手册</a></dd>

   
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>商务</dt>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-services-rencai&amp;utm_term=%E4%BA%BA%E6%89%8D%E6%9C%8D%E5%8A%A1" target="_blank">人才服务</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-services-qiyeneixun&amp;utm_term=%E4%BC%81%E4%B8%9A%E6%9C%8D%E5%8A%A1" target="_blank">企业培训</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-services-huodongcehua&amp;utm_term=%E6%B4%BB%E5%8A%A8%E7%AD%96%E5%88%92" target="_blank">活动策划</a></dd>
                <dd><a href="https://business.segmentfault.com/ads?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-ads&amp;utm_term=%E5%B9%BF%E5%91%8A%E6%8A%95%E6%94%BE" target="_blank">广告投放</a></dd>
                <dd><a href="https://business.segmentfault.com/bc?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-bc&amp;utm_term=%E5%8C%BA%E5%9D%97%E9%93%BE%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" target="_blank">区块链解决方案</a></dd>
                <dd><a href="https://business.segmentfault.com/contact?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=business&amp;utm_content=footer-links-contact&amp;utm_term=%E5%90%88%E4%BD%9C%E8%81%94%E7%B3%BB" target="_blank">合作联系</a></dd>
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>关于</dt>
                <dd><a href="https://about.segmentfault.com/?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=about&amp;utm_content=about-index&amp;utm_term=%E5%85%B3%E4%BA%8E%E6%88%91%E4%BB%AC">关于我们</a></dd>
                <dd><a href="https://about.segmentfault.com/careers.html?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=about&amp;utm_content=about-careers&amp;utm_term=%E5%8A%A0%E5%85%A5%E6%88%91%E4%BB%AC">加入我们</a></dd>
                <dd><a href="https://about.segmentfault.com/contact.html?utm_source=sf-footer&amp;utm_medium=footer-nav&amp;utm_campaign=about&amp;utm_content=about-contact&amp;utm_term=%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC">联系我们</a></dd>
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>关注</dt>
                                <dd><a href="https://segmentfault.com/blog/segmentfault" target="_blank">产品技术日志</a></dd>
                                <dd><a href="https://segmentfault.com/blog/community_admin" target="_blank">社区运营日志</a></dd>
                                <dd><a href="https://segmentfault.com/blog/segmentfault_news" target="_blank">市场运营日志</a></dd>
                                <dd><a href="https://segmentfault.com/blog/segmentfault_team" target="_blank">团队日志</a></dd>
                                <dd><a href="https://segmentfault.com/blog/interview" target="_blank">社区访谈</a></dd>
                                <dd>
                    <ul class="sn-inline">
                        <li>
                            <a class="entypo-wechart icon-sn-weixin weixin-popover-qrcode" data-toggle="popover" data-placement="top" data-content="" data-original-title="" title="">微信</a>
                        </li>
                        <li>
                            <a href="http://weibo.com/segmentfault" target="_blank" class="entypo-weibo icon-sn-weibo">新浪微博</a>
                        </li>
                        <li>
                            <a href="https://github.com/SegmentFault" target="_blank" class="entypo-facebook icon-sn-github">Github</a>
                        </li>
                        <li>
                            <a href="https://twitter.com/segment_fault" target="_blank" class="entypo-twitter icon-sn-twitter">Twitter</a>
                        </li>
                    </ul>
                </dd>
            </dl>

            <dl class="col-sm-2 site-link" id="license">
                <dt>条款</dt>
                <dd><a href="https://segmentfault.com/tos">服务条款</a></dd>
                <dd><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">内容许可</a></dd>
                <dd>
                    <a href="https://segmentfault.com/app" class="clearfix mt10 block"><img src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/appQrcode.png" class="app-qrcode"></a>
                    <div class="app-download-desc">
                        <p>扫一扫下载 App</p>
                    </div>
                    
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright © 2011-2018 SegmentFault. 当前呈现版本 17.06.16<br>
            <a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a> &nbsp;
            <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
            <span class="ml5">杭州堆栈科技有限公司版权所有</span>
            <p class="mt30">CDN 存储服务由 <a target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault">又拍云</a> 赞助提供 </p>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="border-bottom hidden" href="https://segmentfault.com/a/1190000013813740#">回顶部</a>
</div>

<script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/login" method="POST" role="form" class="mt15">
                <div class="form-group hidden">
                                        <input type="text" class="form-control" name="remember" value="1"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="username" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" name="username" tabindex="1" required placeholder="11 位手机号 或 Email"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label><span class="pull-right"><a
                                href="/user/forgot" tabindex="4">忘记密码</a></span>
                    <input type="password" class="form-control" name="password" tabindex="2" required placeholder="请输入密码">
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
<script id="registerModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            
            <form action="/api/user/register" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="name" class="control-label">你的名字</label>
                    <input type="text" class="form-control" name="name" required placeholder="真实姓名或常用昵称">
                </div>
                
                <div class="form-group">
                    <label for="mail" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" id="login-name" name="mail" required placeholder="11 位手机号 或 Email">
                </div>
                
                <input type="text" class="hidden" name="register_type" value="mail">

                <div class="form-group">
                    <div class="phone-register-only hidden">
                        <div class="captchaInput mb10">
                            <input type="text" class="form-control" name="cap" placeholder="右侧的验证码" style="width:50%; display: inline; margin-right: 15px;">
                            <span class="mt10">
                                <a id="loginReloadCaptcha" href="javascript:void(0)">
                                <img src="/user/captcha?w=135&h=34" class="cap" width="135" height="34"/></a>
                            </span>
                        </div>
                        <div class="input-group">
                            <input name="code" type="text" class="form-control js-user-login__phone-code-value" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default js-user-login__phone-vaild-btn" style="width:96px;" type="button">
                                获取验证码</button>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位的密码">
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pl20 pr20 pull-right"
                            onclick='ga("send", "event", "email register button", "clicked", "login modal");'>注册
                    </button>
                </div>
                                <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFRegister
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    已有账号登录
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>            </form>
        </div>
    </div>
</script>
<script id="bindPhoneModal" type="text/template">
    <div class="bg-white bindphone-model">
        <div class="alert alert-warning" role="alert">
            为了保证账号安全，请先绑定手机
        </div>
        <div>
            <form class="form-horizontal form__bindphone-apply" style="background-color:#fff;padding:0;">
                <div class="form-group ">
                    <label for="phoneNumber" class="col-sm-3 control-label required" >手机号码</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control bindphone--phone" id="phoneNumber" name="phone" placeholder="仅只支持大陆手机号">
                    </div>
                    <div class="col-sm-3"></div>
                </div>
                <div class="form-group">
                    <label for="authCode" class="col-sm-3 control-label required">验证码</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="text" class="form-control bindphone--code" name="code" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-3"></div>
                </div>
            </form>
        </div>

    </div>
</script>


<script>
    window.serverTime = 1521602191000;
</script>

<script>
            window.isFinishFollowTasks = true
    </script>
<script id="taskFollowList" type="x-template">
    []
</script>
<script>
    try {
        window.taskFollowList = JSON.parse(document.getElementById('taskFollowList').innerHTML)
    } catch(err) {}
</script>

<script>
    (function (w) {
        w.SF = {
            staticUrl: "https://static.segmentfault.com/v-5ab0701d"
        };
        w.SF.token = (function () {
    var _FoLf = 'a'//'gK'
+//'G'
'943'+//'Qj'
'45b'+//'34'
'99'+/* '7'//'7' */''+/* 'q'//'q' */''+''///*'M'*/'M'
+//'fM'
'f0'+//'dqC'
'8'+'67'//'X'
+//'lf'
'c0'+'jon'//'jon'
+''///*'Q'*/'Q'
+'3'//'i0'
+'75'//'GK'
+//'wX'
'0'+'67'//'Nx0'
+'216'//'9'
+/* '8uX'//'8uX' */''+//'Hh'
'24'+'e17'//'wF'
+//'Su'
'af', _nEBC5On = [[16,19]];

    for (var i = 0; i < _nEBC5On.length; i ++) {
        _FoLf = _FoLf.substring(0, _nEBC5On[i][0]) + _FoLf.substring(_nEBC5On[i][1]);
    }

    return _FoLf;
})();;
    })(window);

                var lock = {
        type: "",
        text: '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };

        var ddosMode = false;
    
    (function (currentUrl) {
        if (typeof URL != 'undefined') {
            // 测试环境
            if ('https://segmentfault.com' === '//localhost:3000') return

            var baseUrl = new URL('https://segmentfault.com');

            if (baseUrl.protocol != currentUrl.protocol
                || baseUrl.host != currentUrl.host) {
                window.location.href = baseUrl.protocol + '//' + baseUrl.host
                    + currentUrl.pathname + currentUrl.search + currentUrl.hash;
            }
        }
    })(window.location);
</script>
             <script crossorigin="" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/assets.js.下载"></script>
                 
        <script crossorigin="" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/post.min.js.下载"></script>
            

<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                
        

                        

    ga('create', 'UA-918487-8', 'auto', {
        'userID'
    : 1030000007471032,
        'createdTime'
    : 1479055977,
        'now'
    : 1521602192,
        'allowLinker'
    : true });
    ga('require', 'linker');
    ga('linker:autoLink', ['docs.segmentfault.com'] );
    ga('set', 'dimension1', 'active_registed_visitor');
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


        <script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/k.js.下载"></script>
            <ins id="ac_js86_mm_124884735_33830642_145440102" style="display: none;"></ins><script>
                    ac_keywords_targeting = "java";
                _acM({
            aid: "mm_124884735_33830642_145440102",
            format: 1,
            mode: 1,
            gid: 1,
            destid: "mm_124884735_33830642_145440102",
            sendkeywords: 1,
            serverbaseurl: "afpeng.alimama.com/"
        });
        </script><script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/ex" id="ac_js86_$7375538516"></script><div id="noteWidget" class="noteWidget hidden hidden-xs">
    <div class="noteWidget-header clearfix">
        <h2 class="h4 pull-left">记笔记</h2>
        <ul class="list-inline pull-right mb0">
            <li id="noteWidgetMinimize"><span class="icon-minimize"></span></li><li id="noteWidgetZoom"><span class="icon-zoom"></span></li><li id="noteWidgetClose"><span class="icon-close"></span></li>
        </ul>
    </div>
    <form method="POST" action="https://segmentfault.com/api/notes/add" role="form">
        <div class="form-group">
            <label for="title" class="sr-only">标题</label>
            <input type="hidden" value="" id="draftId">
            <input type="text" name="title" data-error="" autocomplete="off" class="form-control" placeholder="笔记描述" value="">
        </div>
        <div class="editor-config clearfix">
            <select name="lang" class="form-control pull-left input-sm">
                <optgroup label="文本语法">
                    <option value="text" data-mode="text">纯文本</option>
                    <option value="markdown" data-mode="markdown">Markdown</option>
                    <option value="javascript" data-mode="javascript">Javascript</option>
                    <option value="css" data-mode="css">CSS</option>
                    <option value="html5" data-mode="htmlmixed">HTML</option>
                    <option value="php" data-mode="php">PHP</option>
                    <option value="python" data-mode="python">Python</option>
                    <option value="ruby" data-mode="ruby">Ruby</option>
                    <option value="go" data-mode="go">Go</option>
                    <option value="c" data-mode="clike">C/C++</option>
                    <option value="java" data-mode="java">Java</option>
                    <option value="bash" data-mode="shell">Shell/Bash</option>
                </optgroup>
            </select>
            <div class="pull-right hidden-xs">
                <select name="indentWithTabs" class="form-control inline-block input-sm">
                    <optgroup label="缩进模式">
                        <option value="false">空格缩进</option>
                        <option value="true">Tabs 缩进</option>
                    </optgroup>
                </select>
                <select name="tabSize" class="form-control inline-block input-sm">
                    <optgroup label="缩进大小">
                        <option value="2">2</option>
                        <option value="4" selected="">4</option>
                    </optgroup>
                </select>
                <select name="lineWrap" class="form-control inline-block input-sm">
                    <optgroup label="换行方式">
                        <option value="true">自动换行</option>
                        <option value="false">不换行</option>
                    </optgroup>
                </select>
            </div>
        </div>
        <textarea id="codeMirror" class="form-control" style="display: none;"></textarea><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px;"><div style="position: relative;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code"></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;"></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 1px;"></div></div></div></div>
        <div class="mt20 clearfix">
            <div class="pull-right">
                <span class="text-muted hidden" id="editorStatus">已保存</span>
                <a id="dropIt" href="javascript:void(0);" class="mr10 hidden">[舍弃]</a>
                <button data-type="note" id="publishIt2" class="btn btn-default ml10" data-id="" data-do="add" data-url="" data-text="保存私密笔记" data-name="">保存私密笔记</button>
                <button data-type="note" id="publishIt" class="btn btn-primary ml10" data-id="" data-do="add" data-url="" data-text="保存公开笔记" data-name="">保存公开笔记</button>
                </div>
            </div>
        </form></div>
    
<div id="atwho-container"><div id="atwho-ground-a8df61dc1521602197517"><div class="atwho-view" id="at-view-64"><ul class="atwho-view-ul"></ul></div></div></div>
            <ins id="ac_js86_mm_124884735_33830642_120290173" style="display: none;"></ins><script>
                    ac_keywords_targeting = "java";
                _acM({
            aid: "mm_124884735_33830642_120290173",
            format: 1,
            mode: 1,
            gid: 1,
            destid: "mm_124884735_33830642_120290173",
            sendkeywords: 1,
            serverbaseurl: "afpeng.alimama.com/"
        });
        </script><script></script><script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/ex(1)" id="ac_js86_$2621234272"></script>
     

        <script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/k.js.下载"></script>
            <ins id="ac_js86_mm_124884735_33830642_143436142" style="display: none;"></ins><script>
                    ac_keywords_targeting = "java";
                _acM({
            aid: "mm_124884735_33830642_143436142",
            format: 1,
            mode: 1,
            gid: 1,
            destid: "mm_124884735_33830642_143436142",
            sendkeywords: 1,
            serverbaseurl: "afpeng.alimama.com/"
        });
        </script><script></script><script type="text/javascript" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/ex(2)" id="ac_js86_$7363612639"></script>
     




<iframe id="p_analyse_iframe" src="./想进大厂？50个多线程面试题，你会多少？（一） - 搜云库 - SegmentFault 思否_files/saved_resource(1).html" style="display: none;"></iframe></body></html>